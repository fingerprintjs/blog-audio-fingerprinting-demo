{"version":3,"sources":["webpack://audio-fingerprint-demos/webpack/runtime/load script","webpack://audio-fingerprint-demos/./node_modules/shallowequal/index.js","webpack://audio-fingerprint-demos/./src/utils/data.ts","webpack://audio-fingerprint-demos/webpack/bootstrap","webpack://audio-fingerprint-demos/webpack/runtime/define property getters","webpack://audio-fingerprint-demos/webpack/runtime/ensure chunk","webpack://audio-fingerprint-demos/webpack/runtime/get javascript chunk filename","webpack://audio-fingerprint-demos/webpack/runtime/get mini-css chunk filename","webpack://audio-fingerprint-demos/webpack/runtime/global","webpack://audio-fingerprint-demos/webpack/runtime/hasOwnProperty shorthand","webpack://audio-fingerprint-demos/webpack/runtime/make namespace object","webpack://audio-fingerprint-demos/webpack/runtime/publicPath","webpack://audio-fingerprint-demos/webpack/runtime/jsonp chunk loading","webpack://audio-fingerprint-demos/./node_modules/preact/dist/preact.module.js","webpack://audio-fingerprint-demos/./node_modules/preact/hooks/dist/hooks.module.js","webpack://audio-fingerprint-demos/./node_modules/preact/compat/dist/compat.module.js","webpack://audio-fingerprint-demos/./node_modules/tslib/tslib.es6.js","webpack://audio-fingerprint-demos/./src/utils/color.ts","webpack://audio-fingerprint-demos/./src/utils/audio.ts","webpack://audio-fingerprint-demos/./src/utils/browser.ts","webpack://audio-fingerprint-demos/./src/view/loading_screen/loading_screen.tsx","webpack://audio-fingerprint-demos/./src/view/loading_screen/loading_screen.css?0cd9","webpack://audio-fingerprint-demos/./src/view/layout/layout.tsx","webpack://audio-fingerprint-demos/./src/view/layout/layout.css?2004","webpack://audio-fingerprint-demos/./src/utils/geometry.ts","webpack://audio-fingerprint-demos/./src/utils/gesture.ts","webpack://audio-fingerprint-demos/./src/view/toggle_button/toggle_button.tsx","webpack://audio-fingerprint-demos/./src/view/toggle_button/toggle_button.css?142a","webpack://audio-fingerprint-demos/./src/view/toggle_button/toggle_button_group.tsx","webpack://audio-fingerprint-demos/./src/view/toggle_button/toggle_button_group.css?7d43","webpack://audio-fingerprint-demos/./src/view/style.ts","webpack://audio-fingerprint-demos/./node_modules/d3-ease/src/quad.js","webpack://audio-fingerprint-demos/./node_modules/memoize-one/dist/memoize-one.esm.js","webpack://audio-fingerprint-demos/./node_modules/d3-ease/src/cubic.js","webpack://audio-fingerprint-demos/./src/utils/animation_group.ts","webpack://audio-fingerprint-demos/./src/utils/number.ts","webpack://audio-fingerprint-demos/./src/utils/scale.ts","webpack://audio-fingerprint-demos/./src/utils/memoize_object_arguments.ts","webpack://audio-fingerprint-demos/./src/view/chart/drawers/line.ts","webpack://audio-fingerprint-demos/./src/view/chart/drawers/lines_group.ts","webpack://audio-fingerprint-demos/./src/view/chart/drawers/fade.ts","webpack://audio-fingerprint-demos/./src/view/chart/drawers/chart_main_without_x.ts","webpack://audio-fingerprint-demos/./src/view/chart/drawers/value_scale.ts","webpack://audio-fingerprint-demos/./src/view/chart/drawers/column_pointer_line.ts","webpack://audio-fingerprint-demos/./src/view/chart/drawers/column_pointer_circles.ts","webpack://audio-fingerprint-demos/./src/utils/canvas.ts","webpack://audio-fingerprint-demos/./src/view/chart/drawers/map_selector.ts","webpack://audio-fingerprint-demos/./src/view/chart/drawers/chart_x.ts","webpack://audio-fingerprint-demos/./src/view/chart/drawers/index_scale.ts","webpack://audio-fingerprint-demos/./src/view/chart/drawers/details_popup.ts","webpack://audio-fingerprint-demos/./src/view/chart/drawers/rotating_display.ts","webpack://audio-fingerprint-demos/./src/view/chart/drawers/chart.ts","webpack://audio-fingerprint-demos/./src/view/chart/drawers/chart_map.ts","webpack://audio-fingerprint-demos/./src/view/chart/watch_gestures.ts","webpack://audio-fingerprint-demos/./src/view/chart/controller.ts","webpack://audio-fingerprint-demos/./src/view/chart/chart.tsx","webpack://audio-fingerprint-demos/./src/view/chart/chart.css?d071","webpack://audio-fingerprint-demos/./src/view/difference_demo.tsx","webpack://audio-fingerprint-demos/./src/view/form/form.tsx","webpack://audio-fingerprint-demos/./src/view/form/form.css?5b90","webpack://audio-fingerprint-demos/./src/view/form/range.tsx","webpack://audio-fingerprint-demos/./src/view/form/range.css?d0cd","webpack://audio-fingerprint-demos/./src/view/form/select.tsx","webpack://audio-fingerprint-demos/./src/view/form/select.css?0f63","webpack://audio-fingerprint-demos/./src/view/form/section_header.tsx","webpack://audio-fingerprint-demos/./src/view/signal_options_demo.tsx","webpack://audio-fingerprint-demos/./src/view/demo_selector.tsx","webpack://audio-fingerprint-demos/./src/index.ts"],"names":["inProgress","dataWebpackPrefix","module","exports","objA","objB","compare","compareContext","ret","call","keysA","Object","keys","keysB","length","bHasOwnProperty","prototype","hasOwnProperty","bind","idx","key","valueA","valueB","decodeFloat32ArrayBytes","arrayBytesInHex","buffer","ArrayBuffer","intView","Uint32Array","i","parseInt","slice","Float32Array","getArrayMinAndMax","values","result","min","Infinity","max","fitRangeInRangeWhileKeepingLength","outerStart","outerEnd","innerStart","innerEnd","Math","start","end","getMinAndMaxOnRange","from","to","interpolateLinear","ceil","e","floor","value","x","x1","x2","toggleArrayItem","array","item","index","indexOf","countTruthy","reduce","sum","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","m","d","definition","o","defineProperty","enumerable","get","f","chunkId","Promise","all","promises","u","miniCssF","g","globalThis","this","Function","window","obj","prop","l","url","done","push","script","needAttach","scripts","document","getElementsByTagName","s","getAttribute","createElement","charset","timeout","nc","setAttribute","src","onScriptComplete","prev","event","onerror","onload","clearTimeout","doneFns","parentNode","removeChild","forEach","fn","setTimeout","type","target","head","appendChild","r","Symbol","toStringTag","scriptUrl","importScripts","location","currentScript","Error","replace","p","installedChunks","179","j","installedChunkData","promise","resolve","reject","error","errorType","realSrc","message","name","request","webpackJsonpCallback","parentChunkLoadingFunction","data","chunkIds","moreModules","runtime","chunkLoadingGlobal","self","n","t","c","a","arguments","children","defaultProps","v","props","ref","__k","__","__b","__e","__d","__c","__h","constructor","__v","vnode","y","context","_","base","k","b","__r","debounceRendering","sort","some","__P","I","__n","ownerSVGElement","T","h","w","A","P","Array","isArray","L","z","nextSibling","insertBefore","setProperty","test","C","style","cssText","toLowerCase","addEventListener","H","$","removeEventListener","removeAttribute","contextType","__E","render","M","sub","state","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","diffed","localName","nodeType","createTextNode","createElementNS","is","childNodes","dangerouslySetInnerHTML","attributes","__html","innerHTML","firstChild","checked","current","unmount","componentWillUnmount","N","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","then","__H","requestAnimationFrame","cancelAnimationFrame","filter","E","displayName","isReactComponent","__f","isPureReactComponent","for","__u","U","__R","map","__O","pop","fallback","delete","revealOrder","size","Map","reverse","set","W","V","textContent","configurable","writable","Z","Y","cancelBubble","defaultPrevented","persist","isPropagationStopped","isDefaultPrevented","nativeEvent","G","class","J","multiple","selected","defaultValue","className","$$typeof","K","performance","now","__rest","getOwnPropertySymbols","propertyIsEnumerable","create","numberColorToRGBA","color","opacity","rgbColorToNumber","match","exec","shallowEqual","async","getAudioSignal","options","AudioContext","OfflineAudioContext","webkitOfflineAudioContext","navigator","vendor","isWebKit","isDesktopSafari","isWebKit606OrNewer","nodes","oscillator","createOscillator","frequency","dynamicsCompressor","compressor","createDynamicsCompressor","trait","connect","destination","oncomplete","renderedBuffer","tryResume","startRendering","renderAudio","getChannelData","useAudioSignal","signal","setSignal","queueRef","onSignalReady","lastRequestedOptions","lastCompletedOptions","isRendering","isStopped","setOptions","areOptionsEqual","currentOptions","console","stop","makeRenderingQueue","options1","options2","property","LoadingScreen","fullAbsolute","Layout","content","controls","isInRectangle","targetX","targetY","rectX","rectY","rectWidth","rectHeight","watchMouseDrag","onMove","onEnd","handleMove","handleEnd","destroy","watchTouchDrag","startTouch","eventTarget","getTouch","changedTouches","touch","identifier","watchLongTap","element","onShortTap","onLongTap","longTapTime","maxTapDistance","tapId","tapStartCoordinates","timeoutId","permanentEventHandlers","mousedown","handleTapStart","touchstart","touchmove","handleTapMove","touchend","handleTapEnd","touchcancel","contextmenu","preventDefault","clearAfterTap","eachSubEvent","id","subEvent","getEventCoordinates","handleTapTimeout","coordinates","circleCenterX","circleCenterY","circleRadius","isInTapDistance","clientX","clientY","callback","startsWith","touches","ToggleButton","text","on","onClick","onLongClick","buttonRef","onClickRef","onLongClickRef","borderColor","backgroundColor","buttons","onSwitch","includes","button","fontFamilyCache","textColorCache","backgroundColorCache","populateCacheIfEmpty","bodyStyle","getComputedStyle","body","fontFamily","textColor","getFontFamily","getBackgroundColor","chartSidePadding","chartMapHeight","chartMapLinesVerticalMargin","chartScaleLineColor","chartScaleLabelColor","chartDetailsPopupHeaderFontPrefix","chartDetailsPopupHeaderFontWeight","chartDetailsPopupBackgroundColor","chartDetailsPopupShadowOpacity","palette","quadInOut","areInputsEqual","newInputs","lastInputs","resultFn","isEqual","lastThis","lastResult","lastArgs","calledOnce","newArgs","_i","apply","cubicOut","makeTransition","initialValue","duration","easing","maxDistance","startValue","startTime","Date","targetValue","finished","getState","stage","isFinished","moveTo","instantly","makeTransitionGroup","transitions","transitionKeys","targets","makeInstantWhenHiddenTransition","valueTransition","opacityTransition","makeExponentialTransition","minValue","plainValueToPower","log","powerTransition","power","exp","inRange","modulo","dividend","divider","roundWithBase","makeAlignWithBase","round","floorWithBase","ceilWithBase","aligner","number","oppositeBase","shortNumberSuffixes","formatNumberToShortForm","suffixPower","getNumberSuffixPower","String","formatNumberWithThousandGroups","fractionalPrecision","numberString","toFixed","integer","fractional","split","digitsCount","groupedInteger","removeFloatArtifact","log10Of2","log10","log10Of5","getSubDecimalScale","doRoundUp","log10Base","log10Remainder","subDecimalScaleToNumber","scale","remainder","getScaleToFitRange","rangeSize","maxNotchCount","abs","getValueRangeForFixedBottom","maxValue","notchScale","notchCount","getValueRange","notchValue","alignedMinValue","getValueRangeForFixedNotches","listSubDecimalNotchesForRange","notch1Size","notch2Size","transition","notch1","notch2","subShallowEqualArrays","arr1","arr2","memoizeObjectArguments","drawLine","ctx","fromX","toX","fromIndex","toIndex","fromY","toY","fromValue","toValue","drawFromX","drawToX","lineWidth","beginPath","lineJoin","lineCap","strokeStyle","xPerIndex","yPerValue","xOffset","yOffset","realFromIndex","realToIndex","lineTo","stroke","drawLinesGroup","linesData","lineOpacities","width","makeFade","side","getGradient","height","position","gradient","createLinearGradient","addColorStop","save","rect","clip","globalCompositeOperation","fillStyle","fill","restore","makeChartMainWithoutX","drawTopFade","drawLeftFade","drawRightFade","pixelRatio","valueNotchScale","startIndex","endIndex","detailsIndex","detailsOpacity","mainLinesX","mainLinesY","mainLinesWidth","mainLinesHeight","clearRect","commonArguments","topPadding","drawLines","labelColor","labelOpacity","labelOnRight","isNaN","isFinite","fontSize","labelOffset","labelX","labelUnderlayPadding","labelUnderlayHeight","realFromValue","realToValue","font","textBaseline","textAlign","fillRect","notchGenerator","iteration","next","notchY","measureText","fillText","drawValueScale","detailsX","lineX","drawColumnPointerLine","pointRadius","borderWidth","pointBackgroundColor","arc","PI","roundedRectanglePath","borderRadius","topLeftRadius","topRightRadius","bottomRightRadius","bottomLeftRadius","arcTo","drawNotch","centerX","centerY","cssColor","radius","makeChartX","minIndex","maxIndex","indexNotchScale","indexNameOffset","approximateLabelMaxWidth","sideBorderWidth","outsideCornerRadius","verticalPadding","leftOffset","rightOffset","notchColor","drawMapSelector","drawDetailsPopup","cssWidth","valuePrecision","amount","getLineRowsAmount","sidePadding","stepsCount","stepOpacity","stepOffset","drawBackground","baseline","leftPosition","getItemText","containerAlign","fontWeight","lineHeight","topAlign","bottomAlign","itemIndices","averageWidth","fontStringBeforeSize","fontStringAfterSize","itemIndex","distanceToCenter","itemText","itemWidth","freeSpaceWidth","align","alignShift","itemX","itemY","drawRotatingDisplay","drawHeader","rowY","rowOpacity","drawRow","transitionalValue","makeChart","mainCanvas","mapCanvas","mainCtx","getContext","mapCtx","updateMainCanvasSize","forceRedrawMainCanvas","updateMapCanvasSize","drawChartMainWithoutX","drawChartX","drawChartMap","canvasWidth","canvasHeight","wasDetailsPopupDrawn","mainCanvasWidth","mainCanvasHeight","mapCanvasWidth","mapCanvasHeight","mapMinValue","mapMaxValue","mainMinValue","mainMaxValue","mainValueNotchScale","detailsAlign","detailsPopupWidth","detailsPopupValuePrecision","detailsLineOpacities","mainSectionY","mainSectionHeight","doDrawDetailsPopup","popupCssWidth","pointerX","xOnLeftAlign","xOnRightAlign","getDetailsPopupX","mapGripVerticalOffset","watchGestures","chartState","callbacks","startMapSelectorDrag","middleMapSelectorDrag","endMapSelectorDrag","handleMouseDown","handleTouchStart","passive","detailsHoverWatcher","checkHover","hoverId","moveEvents","endEvents","watchHover","getEventRelativeCoordinates","getMainLinesBounds","mapLinesSideOffset","isInMapLines","linesX","linesWidth","detailsPosition","newState","watcher","isInMapSelectionStart","handleMapStartDrag","isInMapSelectionEnd","handleMapEndDrag","isInMapSelectionMiddle","handleMapMiddleDrag","createWatcher","args","mapX","mapWidth","getMapBounds","mapSelectorStart","mapSelectorEnd","mapSelectorMiddle","mapGripInsideOffset","clientWidth","clientHeight","bounds","getBoundingClientRect","left","top","chartMainTopMargin","Controller","gestureContainer","lines","minIndexRange","maxIndexRange","initialIndexRange","minTopValue","maxBottomValue","getIndexRange","getLinesMinAndMax","lastLines","lastMinAndMax","minAndMax","makeGetLinesMinAndMax","getLineOpacities","getMapValueRange","getMainValueRange","updateCanvases","handleResize","setDomState","handleStateChange","setLinesState","animatedState","linesCount","lineOpacitiesTransitions","detailsLineOpacitiesTransitions","defaultValueMiddle","defaultValueSize","defaultMainYRange","animations","onUpdate","animationFrameId","animationGroup","updateOnNextFrame","handleAnimationFrame","isInitial","makeAnimationGroup","mapValueMiddle","mapValueSize","mainValueMiddle","mainValueSize","createAnimatedState","getAnimatedStateTarget","gesturesWatcher","getStateForGestureWatcher","handleStartIndexMove","handleIndexMove","handleEndIndexMove","handleDetailsPositionMove","minIndexRangeLength","maxIndexRangeLength","indexRangeLength","indexRange","devicePixelRatio","relativeX","relativeMiddleX","currentIndexLength","dontForceRender","setChartState","relativePosition","opacities","showInPopup","getDetailsPosition","mapValueRange","middle","mainValueRange","restAnimatedState","draw","maxBottom","minTop","linesMinAndMaxCache","totalMin","totalMax","actualFirstIndex","initialSelectionLength","minSelectionLength","maxSelectionLength","gestureContainerRef","mainCanvasRef","mapCanvasRef","controllerRef","setLines","bottom","currentBrowserSignal","threshold","knee","ratio","attack","release","subarray","signalOffset","useCurrentBrowserSignal","exampleSignals","setExampleSignals","default","signals","useExampleSignals","LoadedDemo","currentSignalKey","enabledSignals","setEnabledSignals","allSignals","entries","title","unshift","chartLines","enabled","Form","fields","label","input","step","isExponential","onChange","inputValue","propValueToInputValue","inputMin","inputMax","inputValueToPropValue","Number","alignToStep","onSelect","disabled","SectionHeader","useDynamicsCompressor","formData","setFormData","OptionsForm","showDynamicsCompressor","oscillatorTypeOptions","DemoSelector","select","demoMatch","search","querySelector","readyState"],"mappings":"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","file":"main.js?5ee5e7ef35748f964cd0","sourcesContent":["var inProgress = {};\nvar dataWebpackPrefix = \"audio-fingerprint-demos:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\t;\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","//\n\nmodule.exports = function shallowEqual(objA, objB, compare, compareContext) {\n  var ret = compare ? compare.call(compareContext, objA, objB) : void 0;\n\n  if (ret !== void 0) {\n    return !!ret;\n  }\n\n  if (objA === objB) {\n    return true;\n  }\n\n  if (typeof objA !== \"object\" || !objA || typeof objB !== \"object\" || !objB) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);\n\n  // Test for A's keys different from B.\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n\n    if (!bHasOwnProperty(key)) {\n      return false;\n    }\n\n    var valueA = objA[key];\n    var valueB = objB[key];\n\n    ret = compare ? compare.call(compareContext, valueA, valueB, key) : void 0;\n\n    if (ret === false || (ret === void 0 && valueA !== valueB)) {\n      return false;\n    }\n  }\n\n  return true;\n};\n","export function encodeFloat32ArrayBytes(array: Float32Array): string {\n  let result = ''\n\n  for (let i = 0; i < array.length; ++i) {\n    result += array[i].toString(16).padStart(8, '0')\n  }\n\n  return result\n}\n\nexport function decodeFloat32ArrayBytes(arrayBytesInHex: string): Float32Array {\n  const buffer = new ArrayBuffer(arrayBytesInHex.length / 2)\n  const intView = new Uint32Array(buffer)\n\n  for (let i = 0; i < intView.length; ++i) {\n    intView[i] = parseInt(arrayBytesInHex.slice(i * 8, i * 8 + 8), 16)\n  }\n\n  return new Float32Array(buffer)\n}\n\nexport function getArrayMinAndMax(values: ArrayLike<number>): { min: number; max: number } {\n  const result = {\n    min: Infinity,\n    max: -Infinity,\n  }\n\n  for (let i = 0; i < values.length; ++i) {\n    if (values[i] < result.min) {\n      result.min = values[i]\n    }\n    if (values[i] > result.max) {\n      result.max = values[i]\n    }\n  }\n\n  return result\n}\n\nexport function fitRangeInRangeWhileKeepingLength(\n  outerStart: number,\n  outerEnd: number,\n  innerStart: number,\n  innerEnd: number,\n): { start: number; end: number } {\n  if (innerStart < outerStart) {\n    innerEnd += outerStart - innerStart\n    innerStart = outerStart\n  }\n  if (innerEnd > outerEnd) {\n    innerStart = Math.max(outerStart, innerStart - (innerEnd - outerEnd))\n    innerEnd = outerEnd\n  }\n  return { start: innerStart, end: innerEnd }\n}\n\n/**\n * Gets the minimum and the maximum value of chart line on the given range\n *\n * @param {number[]} values The line values\n * @param {number} from The range start index (can be float)\n * @param {number} to The range end index (can be float)\n * @return {{min: number, max: number}}\n */\nexport function getMinAndMaxOnRange(values: ArrayLike<number>, from: number, to: number): { min: number; max: number } {\n  from = Math.max(0, from)\n  to = Math.min(to, values.length - 1)\n\n  // Check the left edge\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  let min = interpolateLinear(values, from)!\n  let max = min\n\n  // Check the interim values\n  for (let i = Math.ceil(from), e = Math.floor(to); i <= e; ++i) {\n    if (values[i] < min) {\n      min = values[i]\n    } else if (values[i] > max) {\n      max = values[i]\n    }\n  }\n\n  // Check the right edge\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  const value = interpolateLinear(values, to)!\n  if (value < min) {\n    min = value\n  } else if (value > max) {\n    max = value\n  }\n\n  return { min, max }\n}\n\n/**\n * Returns an interpolated value of the function\n *\n * @param values The function values (indices are Xs)\n * @param x The X value to interpolate\n */\nexport function interpolateLinear(values: ArrayLike<number>, x: number): number | undefined {\n  if (x < 0 || x > values.length - 1) {\n    return undefined\n  }\n\n  const x1 = Math.floor(x)\n  const x2 = Math.ceil(x)\n\n  return values[x1] + (values[x2] - values[x1]) * (x - x1)\n}\n\n/**\n * Adds an item to the array if it's not in the array and removes otherwise\n */\nexport function toggleArrayItem<T>(array: readonly T[], item: T): T[] {\n  const index = array.indexOf(item)\n  if (index === -1) {\n    return [...array, item]\n  } else {\n    return [...array.slice(0, index), ...array.slice(index + 1)]\n  }\n}\n\nexport function countTruthy(values: unknown[]): number {\n  return values.reduce<number>((sum, value) => sum + (value ? 1 : 0), 0)\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".js?\" + \"348aebc99340b7098250\" + \"\";\n};","// This function allow to reference all chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) {\n\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n\t\t\t\t\t});\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tfor(moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkIds[i]] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkaudio_fingerprint_demos\"] = self[\"webpackChunkaudio_fingerprint_demos\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","var n,l,u,i,t,o,r={},f=[],e=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function c(n,l){for(var u in l)n[u]=l[u];return n}function s(n){var l=n.parentNode;l&&l.removeChild(n)}function a(n,l,u){var i,t,o,r=arguments,f={};for(o in l)\"key\"==o?i=l[o]:\"ref\"==o?t=l[o]:f[o]=l[o];if(arguments.length>3)for(u=[u],o=3;o<arguments.length;o++)u.push(r[o]);if(null!=u&&(f.children=u),\"function\"==typeof n&&null!=n.defaultProps)for(o in n.defaultProps)void 0===f[o]&&(f[o]=n.defaultProps[o]);return v(n,f,i,t,null)}function v(l,u,i,t,o){var r={type:l,props:u,key:i,ref:t,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++n.__v:o};return null!=n.vnode&&n.vnode(r),r}function h(){return{current:null}}function y(n){return n.children}function p(n,l){this.props=n,this.context=l}function d(n,l){if(null==l)return n.__?d(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?d(n):null}function _(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return _(n)}}function k(l){(!l.__d&&(l.__d=!0)&&u.push(l)&&!b.__r++||t!==n.debounceRendering)&&((t=n.debounceRendering)||i)(b)}function b(){for(var n;b.__r=u.length;)n=u.sort(function(n,l){return n.__v.__b-l.__v.__b}),u=[],n.some(function(n){var l,u,i,t,o,r;n.__d&&(o=(t=(l=n).__v).__e,(r=l.__P)&&(u=[],(i=c({},t)).__v=t.__v+1,I(r,t,i,l.__n,void 0!==r.ownerSVGElement,null!=t.__h?[o]:null,u,null==o?d(t):o,t.__h),T(u,t),t.__e!=o&&_(t)))})}function m(n,l,u,i,t,o,e,c,s,a){var h,p,_,k,b,m,w,A=i&&i.__k||f,P=A.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(k=u.__k[h]=null==(k=l[h])||\"boolean\"==typeof k?null:\"string\"==typeof k||\"number\"==typeof k||\"bigint\"==typeof k?v(null,k,null,null,k):Array.isArray(k)?v(y,{children:k},null,null,null):k.__b>0?v(k.type,k.props,k.key,null,k.__v):k)){if(k.__=u,k.__b=u.__b+1,null===(_=A[h])||_&&k.key==_.key&&k.type===_.type)A[h]=void 0;else for(p=0;p<P;p++){if((_=A[p])&&k.key==_.key&&k.type===_.type){A[p]=void 0;break}_=null}I(n,k,_=_||r,t,o,e,c,s,a),b=k.__e,(p=k.ref)&&_.ref!=p&&(w||(w=[]),_.ref&&w.push(_.ref,null,k),w.push(p,k.__c||b,k)),null!=b?(null==m&&(m=b),\"function\"==typeof k.type&&null!=k.__k&&k.__k===_.__k?k.__d=s=g(k,s,n):s=x(n,k,_,A,b,s),a||\"option\"!==u.type?\"function\"==typeof u.type&&(u.__d=s):n.value=\"\"):s&&_.__e==s&&s.parentNode!=n&&(s=d(_))}for(u.__e=m,h=P;h--;)null!=A[h]&&(\"function\"==typeof u.type&&null!=A[h].__e&&A[h].__e==u.__d&&(u.__d=d(i,h+1)),L(A[h],A[h]));if(w)for(h=0;h<w.length;h++)z(w[h],w[++h],w[++h])}function g(n,l,u){var i,t;for(i=0;i<n.__k.length;i++)(t=n.__k[i])&&(t.__=n,l=\"function\"==typeof t.type?g(t,l,u):x(u,t,t,n.__k,t.__e,l));return l}function w(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){w(n,l)}):l.push(n)),l}function x(n,l,u,i,t,o){var r,f,e;if(void 0!==l.__d)r=l.__d,l.__d=void 0;else if(null==u||t!=o||null==t.parentNode)n:if(null==o||o.parentNode!==n)n.appendChild(t),r=null;else{for(f=o,e=0;(f=f.nextSibling)&&e<i.length;e+=2)if(f==t)break n;n.insertBefore(t,o),r=o}return void 0!==r?r:t.nextSibling}function A(n,l,u,i,t){var o;for(o in u)\"children\"===o||\"key\"===o||o in l||C(n,o,null,u[o],i);for(o in l)t&&\"function\"!=typeof l[o]||\"children\"===o||\"key\"===o||\"value\"===o||\"checked\"===o||u[o]===l[o]||C(n,o,l[o],u[o],i)}function P(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=null==u?\"\":\"number\"!=typeof u||e.test(l)?u:u+\"px\"}function C(n,l,u,i,t){var o;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||P(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||P(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])o=l!==(l=l.replace(/Capture$/,\"\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?i||n.addEventListener(l,o?H:$,o):n.removeEventListener(l,o?H:$,o);else if(\"dangerouslySetInnerHTML\"!==l){if(t)l=l.replace(/xlink[H:h]/,\"h\").replace(/sName$/,\"s\");else if(\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null!=u&&(!1!==u||\"a\"===l[0]&&\"r\"===l[1])?n.setAttribute(l,u):n.removeAttribute(l))}}function $(l){this.l[l.type+!1](n.event?n.event(l):l)}function H(l){this.l[l.type+!0](n.event?n.event(l):l)}function I(l,u,i,t,o,r,f,e,s){var a,v,h,d,_,k,b,g,w,x,A,P=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(s=i.__h,e=u.__e=i.__e,u.__h=null,r=[e]),(a=n.__b)&&a(u);try{n:if(\"function\"==typeof P){if(g=u.props,w=(a=P.contextType)&&t[a.__c],x=a?w?w.props.value:a.__:t,i.__c?b=(v=u.__c=i.__c).__=v.__E:(\"prototype\"in P&&P.prototype.render?u.__c=v=new P(g,x):(u.__c=v=new p(g,x),v.constructor=P,v.render=M),w&&w.sub(v),v.props=g,v.state||(v.state={}),v.context=x,v.__n=t,h=v.__d=!0,v.__h=[]),null==v.__s&&(v.__s=v.state),null!=P.getDerivedStateFromProps&&(v.__s==v.state&&(v.__s=c({},v.__s)),c(v.__s,P.getDerivedStateFromProps(g,v.__s))),d=v.props,_=v.state,h)null==P.getDerivedStateFromProps&&null!=v.componentWillMount&&v.componentWillMount(),null!=v.componentDidMount&&v.__h.push(v.componentDidMount);else{if(null==P.getDerivedStateFromProps&&g!==d&&null!=v.componentWillReceiveProps&&v.componentWillReceiveProps(g,x),!v.__e&&null!=v.shouldComponentUpdate&&!1===v.shouldComponentUpdate(g,v.__s,x)||u.__v===i.__v){v.props=g,v.state=v.__s,u.__v!==i.__v&&(v.__d=!1),v.__v=u,u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u)}),v.__h.length&&f.push(v);break n}null!=v.componentWillUpdate&&v.componentWillUpdate(g,v.__s,x),null!=v.componentDidUpdate&&v.__h.push(function(){v.componentDidUpdate(d,_,k)})}v.context=x,v.props=g,v.state=v.__s,(a=n.__r)&&a(u),v.__d=!1,v.__v=u,v.__P=l,a=v.render(v.props,v.state,v.context),v.state=v.__s,null!=v.getChildContext&&(t=c(c({},t),v.getChildContext())),h||null==v.getSnapshotBeforeUpdate||(k=v.getSnapshotBeforeUpdate(d,_)),A=null!=a&&a.type===y&&null==a.key?a.props.children:a,m(l,Array.isArray(A)?A:[A],u,i,t,o,r,f,e,s),v.base=u.__e,u.__h=null,v.__h.length&&f.push(v),b&&(v.__E=v.__=null),v.__e=!1}else null==r&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=j(i.__e,u,i,t,o,r,f,s);(a=n.diffed)&&a(u)}catch(l){u.__v=null,(s||null!=r)&&(u.__e=e,u.__h=!!s,r[r.indexOf(e)]=null),n.__e(l,u,i)}}function T(l,u){n.__c&&n.__c(u,l),l.some(function(u){try{l=u.__h,u.__h=[],l.some(function(n){n.call(u)})}catch(l){n.__e(l,u.__v)}})}function j(n,l,u,i,t,o,e,c){var a,v,h,y,p=u.props,d=l.props,_=l.type,k=0;if(\"svg\"===_&&(t=!0),null!=o)for(;k<o.length;k++)if((a=o[k])&&(a===n||(_?a.localName==_:3==a.nodeType))){n=a,o[k]=null;break}if(null==n){if(null===_)return document.createTextNode(d);n=t?document.createElementNS(\"http://www.w3.org/2000/svg\",_):document.createElement(_,d.is&&d),o=null,c=!1}if(null===_)p===d||c&&n.data===d||(n.data=d);else{if(o=o&&f.slice.call(n.childNodes),v=(p=u.props||r).dangerouslySetInnerHTML,h=d.dangerouslySetInnerHTML,!c){if(null!=o)for(p={},y=0;y<n.attributes.length;y++)p[n.attributes[y].name]=n.attributes[y].value;(h||v)&&(h&&(v&&h.__html==v.__html||h.__html===n.innerHTML)||(n.innerHTML=h&&h.__html||\"\"))}if(A(n,d,p,t,c),h)l.__k=[];else if(k=l.props.children,m(n,Array.isArray(k)?k:[k],l,u,i,t&&\"foreignObject\"!==_,o,e,n.firstChild,c),null!=o)for(k=o.length;k--;)null!=o[k]&&s(o[k]);c||(\"value\"in d&&void 0!==(k=d.value)&&(k!==n.value||\"progress\"===_&&!k)&&C(n,\"value\",k,p.value,!1),\"checked\"in d&&void 0!==(k=d.checked)&&k!==n.checked&&C(n,\"checked\",k,p.checked,!1))}return n}function z(l,u,i){try{\"function\"==typeof l?l(u):l.current=u}catch(l){n.__e(l,i)}}function L(l,u,i){var t,o,r;if(n.unmount&&n.unmount(l),(t=l.ref)&&(t.current&&t.current!==l.__e||z(t,null,u)),i||\"function\"==typeof l.type||(i=null!=(o=l.__e)),l.__e=l.__d=void 0,null!=(t=l.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(l){n.__e(l,u)}t.base=t.__P=null}if(t=l.__k)for(r=0;r<t.length;r++)t[r]&&L(t[r],u,i);null!=o&&s(o)}function M(n,l,u){return this.constructor(n,u)}function N(l,u,i){var t,o,e;n.__&&n.__(l,u),o=(t=\"function\"==typeof i)?null:i&&i.__k||u.__k,e=[],I(u,l=(!t&&i||u).__k=a(y,null,[l]),o||r,r,void 0!==u.ownerSVGElement,!t&&i?[i]:o?null:u.firstChild?f.slice.call(u.childNodes):null,e,!t&&i?i:o?o.__e:u.firstChild,t),T(e,l)}function O(n,l){N(n,l,O)}function S(n,l,u){var i,t,o,r=arguments,f=c({},n.props);for(o in l)\"key\"==o?i=l[o]:\"ref\"==o?t=l[o]:f[o]=l[o];if(arguments.length>3)for(u=[u],o=3;o<arguments.length;o++)u.push(r[o]);return null!=u&&(f.children=u),v(n.type,f,i||n.key,t||n.ref,null)}function q(n,l){var u={__c:l=\"__cC\"+o++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(k)},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n={__e:function(n,l){for(var u,i,t;l=l.__;)if((u=l.__c)&&!u.__)try{if((i=u.constructor)&&null!=i.getDerivedStateFromError&&(u.setState(i.getDerivedStateFromError(n)),t=u.__d),null!=u.componentDidCatch&&(u.componentDidCatch(n),t=u.__d),t)return u.__E=u}catch(l){n=l}throw n},__v:0},l=function(n){return null!=n&&void 0===n.constructor},p.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=c({},this.state),\"function\"==typeof n&&(n=n(c({},u),this.props)),n&&c(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),k(this))},p.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),k(this))},p.prototype.render=y,u=[],i=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,b.__r=0,o=0;export{N as render,O as hydrate,a as createElement,a as h,y as Fragment,h as createRef,l as isValidElement,p as Component,S as cloneElement,q as createContext,w as toChildArray,n as options};\n//# sourceMappingURL=preact.module.js.map\n","import{options as n}from\"preact\";var t,u,r,o=0,i=[],c=n.__b,f=n.__r,e=n.diffed,a=n.__c,v=n.unmount;function m(t,r){n.__h&&n.__h(u,t,o||r),o=0;var i=u.__H||(u.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({}),i.__[t]}function l(n){return o=1,p(w,n)}function p(n,r,o){var i=m(t++,2);return i.t=n,i.__c||(i.__=[o?o(r):w(void 0,r),function(n){var t=i.t(i.__[0],n);i.__[0]!==t&&(i.__=[t,i.__[1]],i.__c.setState({}))}],i.__c=u),i.__}function y(r,o){var i=m(t++,3);!n.__s&&k(i.__H,o)&&(i.__=r,i.__H=o,u.__H.__h.push(i))}function h(r,o){var i=m(t++,4);!n.__s&&k(i.__H,o)&&(i.__=r,i.__H=o,u.__h.push(i))}function s(n){return o=5,d(function(){return{current:n}},[])}function _(n,t,u){o=6,h(function(){\"function\"==typeof n?n(t()):n&&(n.current=t())},null==u?u:u.concat(n))}function d(n,u){var r=m(t++,7);return k(r.__H,u)&&(r.__=n(),r.__H=u,r.__h=n),r.__}function A(n,t){return o=8,d(function(){return n},t)}function F(n){var r=u.context[n.__c],o=m(t++,9);return o.__c=n,r?(null==o.__&&(o.__=!0,r.sub(u)),r.props.value):n.__}function T(t,u){n.useDebugValue&&n.useDebugValue(u?u(t):t)}function q(n){var r=m(t++,10),o=l();return r.__=n,u.componentDidCatch||(u.componentDidCatch=function(n){r.__&&r.__(n),o[1](n)}),[o[0],function(){o[1](void 0)}]}function x(){i.forEach(function(t){if(t.__P)try{t.__H.__h.forEach(g),t.__H.__h.forEach(j),t.__H.__h=[]}catch(u){t.__H.__h=[],n.__e(u,t.__v)}}),i=[]}n.__b=function(n){u=null,c&&c(n)},n.__r=function(n){f&&f(n),t=0;var r=(u=n.__c).__H;r&&(r.__h.forEach(g),r.__h.forEach(j),r.__h=[])},n.diffed=function(t){e&&e(t);var o=t.__c;o&&o.__H&&o.__H.__h.length&&(1!==i.push(o)&&r===n.requestAnimationFrame||((r=n.requestAnimationFrame)||function(n){var t,u=function(){clearTimeout(r),b&&cancelAnimationFrame(t),setTimeout(n)},r=setTimeout(u,100);b&&(t=requestAnimationFrame(u))})(x)),u=void 0},n.__c=function(t,u){u.some(function(t){try{t.__h.forEach(g),t.__h=t.__h.filter(function(n){return!n.__||j(n)})}catch(r){u.some(function(n){n.__h&&(n.__h=[])}),u=[],n.__e(r,t.__v)}}),a&&a(t,u)},n.unmount=function(t){v&&v(t);var u=t.__c;if(u&&u.__H)try{u.__H.__.forEach(g)}catch(t){n.__e(t,u.__v)}};var b=\"function\"==typeof requestAnimationFrame;function g(n){var t=u;\"function\"==typeof n.__c&&n.__c(),u=t}function j(n){var t=u;n.__c=n.__(),u=t}function k(n,t){return!n||n.length!==t.length||t.some(function(t,u){return t!==n[u]})}function w(n,t){return\"function\"==typeof t?t(n):t}export{l as useState,p as useReducer,y as useEffect,h as useLayoutEffect,s as useRef,_ as useImperativeHandle,d as useMemo,A as useCallback,F as useContext,T as useDebugValue,q as useErrorBoundary};\n//# sourceMappingURL=hooks.module.js.map\n","import{useState as n,useReducer as t,useEffect as e,useLayoutEffect as r,useRef as u,useImperativeHandle as o,useMemo as i,useCallback as l,useContext as f,useDebugValue as c}from\"preact/hooks\";export*from\"preact/hooks\";import{Component as a,createElement as s,options as h,toChildArray as p,Fragment as v,render as d,hydrate as m,cloneElement as y,createRef as b,createContext as _}from\"preact\";export{createElement,createContext,createRef,Fragment,Component}from\"preact\";function C(n,t){for(var e in t)n[e]=t[e];return n}function S(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1}function E(n){this.props=n}function g(n,t){function e(n){var e=this.props.ref,r=e==n.ref;return!r&&e&&(e.call?e(null):e.current=null),t?!t(this.props,n)||!r:S(this.props,n)}function r(t){return this.shouldComponentUpdate=e,s(n,t)}return r.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",r.prototype.isReactComponent=!0,r.__f=!0,r}(E.prototype=new a).isPureReactComponent=!0,E.prototype.shouldComponentUpdate=function(n,t){return S(this.props,n)||S(this.state,t)};var w=h.__b;h.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),w&&w(n)};var R=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;function x(n){function t(t,e){var r=C({},t);return delete r.ref,n(r,(e=t.ref||e)&&(\"object\"!=typeof e||\"current\"in e)?e:null)}return t.$$typeof=R,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t}var N=function(n,t){return null==n?null:p(p(n).map(t))},k={map:N,forEach:N,count:function(n){return n?p(n).length:0},only:function(n){var t=p(n);if(1!==t.length)throw\"Children.only\";return t[0]},toArray:p},A=h.__e;h.__e=function(n,t,e){if(n.then)for(var r,u=t;u=u.__;)if((r=u.__c)&&r.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),r.__c(n,t);A(n,t,e)};var O=h.unmount;function L(){this.__u=0,this.t=null,this.__b=null}function U(n){var t=n.__.__c;return t&&t.__e&&t.__e(n)}function D(n){var t,e,r;function u(u){if(t||(t=n()).then(function(n){e=n.default||n},function(n){r=n}),r)throw r;if(!e)throw t;return s(e,u)}return u.displayName=\"Lazy\",u.__f=!0,u}function F(){this.u=null,this.o=null}h.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&!0===n.__h&&(n.type=null),O&&O(n)},(L.prototype=new a).__c=function(n,t){var e=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(e);var u=U(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(l):l())};e.__R=i;var l=function(){if(!--r.__u){if(r.state.__e){var n=r.state.__e;r.__v.__k[0]=function n(t,e,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(t){return n(t,e,r)}),t.__c&&t.__c.__P===e&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__e:r.__b=null});t=r.t.pop();)t.forceUpdate()}},f=!0===t.__h;r.__u++||f||r.setState({__e:r.__b=r.__v.__k[0]}),n.then(i,i)},L.prototype.componentWillUnmount=function(){this.t=[]},L.prototype.render=function(n,t){if(this.__b){if(this.__v.__k){var e=document.createElement(\"div\"),r=this.__v.__k[0].__c;this.__v.__k[0]=function n(t,e,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c()}),t.__c.__H=null),null!=(t=C({},t)).__c&&(t.__c.__P===r&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(t){return n(t,e,r)})),t}(this.__b,e,r.__O=r.__P)}this.__b=null}var u=t.__e&&s(v,null,n.fallback);return u&&(u.__h=null),[s(v,null,t.__e?null:n.children),u]};var M=function(n,t,e){if(++e[1]===e[0]&&n.o.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.o.size))for(e=n.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.u=e=e[2]}};function T(n){return this.getChildContext=function(){return n.context},n.children}function j(n){var t=this,e=n.i;t.componentWillUnmount=function(){d(null,t.l),t.l=null,t.i=null},t.i&&t.i!==e&&t.componentWillUnmount(),n.__v?(t.l||(t.i=e,t.l={nodeType:1,parentNode:e,childNodes:[],appendChild:function(n){this.childNodes.push(n),t.i.appendChild(n)},insertBefore:function(n,e){this.childNodes.push(n),t.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),t.i.removeChild(n)}}),d(s(T,{context:t.context},n.__v),t.l)):t.l&&t.componentWillUnmount()}function I(n,t){return s(j,{__v:n,i:t})}(F.prototype=new a).__e=function(n){var t=this,e=U(t.__v),r=t.o.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),M(t,n,r)):u()};e?e(o):o()}},F.prototype.render=function(n){this.u=null,this.o=new Map;var t=p(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return n.children},F.prototype.componentDidUpdate=F.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(t,e){M(n,e,t)})};var W=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,P=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,V=function(n){return(\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(n)};function z(n,t,e){return null==t.__k&&(t.textContent=\"\"),d(n,t),\"function\"==typeof e&&e(),n?n.__c:null}function B(n,t,e){return m(n,t),\"function\"==typeof e&&e(),n?n.__c:null}a.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(n){Object.defineProperty(a.prototype,n,{configurable:!0,get:function(){return this[\"UNSAFE_\"+n]},set:function(t){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:t})}})});var H=h.event;function Z(){}function Y(){return this.cancelBubble}function $(){return this.defaultPrevented}h.event=function(n){return H&&(n=H(n)),n.persist=Z,n.isPropagationStopped=Y,n.isDefaultPrevented=$,n.nativeEvent=n};var q,G={configurable:!0,get:function(){return this.class}},J=h.vnode;h.vnode=function(n){var t=n.type,e=n.props,r=e;if(\"string\"==typeof t){for(var u in r={},e){var o=e[u];\"value\"===u&&\"defaultValue\"in e&&null==o||(\"defaultValue\"===u&&\"value\"in e&&null==e.value?u=\"value\":\"download\"===u&&!0===o?o=\"\":/ondoubleclick/i.test(u)?u=\"ondblclick\":/^onchange(textarea|input)/i.test(u+t)&&!V(e.type)?u=\"oninput\":/^on(Ani|Tra|Tou|BeforeInp)/.test(u)?u=u.toLowerCase():P.test(u)?u=u.replace(/[A-Z0-9]/,\"-$&\").toLowerCase():null===o&&(o=void 0),r[u]=o)}\"select\"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=p(e.children).forEach(function(n){n.props.selected=-1!=r.value.indexOf(n.props.value)})),\"select\"==t&&null!=r.defaultValue&&(r.value=p(e.children).forEach(function(n){n.props.selected=r.multiple?-1!=r.defaultValue.indexOf(n.props.value):r.defaultValue==n.props.value})),n.props=r}t&&e.class!=e.className&&(G.enumerable=\"className\"in e,null!=e.className&&(r.class=e.className),Object.defineProperty(r,\"className\",G)),n.$$typeof=W,J&&J(n)};var K=h.__r;h.__r=function(n){K&&K(n),q=n.__c};var Q={ReactCurrentDispatcher:{current:{readContext:function(n){return q.__n[n.__c].props.value}}}},X=1,nn=2,tn=3,en=4,rn=5;function un(n,t){return t()}var on=\"object\"==typeof performance&&\"function\"==typeof performance.now?performance.now.bind(performance):function(){return Date.now()},ln=\"16.8.0\";function fn(n){return s.bind(null,n)}function cn(n){return!!n&&n.$$typeof===W}function an(n){return cn(n)?y.apply(null,arguments):n}function sn(n){return!!n.__k&&(d(null,n),!0)}function hn(n){return n&&(n.base||1===n.nodeType&&n)||null}var pn=function(n,t){return n(t)},vn=v;export default{useState:n,useReducer:t,useEffect:e,useLayoutEffect:r,useRef:u,useImperativeHandle:o,useMemo:i,useCallback:l,useContext:f,useDebugValue:c,version:\"16.8.0\",Children:k,render:z,hydrate:B,unmountComponentAtNode:sn,createPortal:I,createElement:s,createContext:_,createFactory:fn,cloneElement:an,createRef:b,Fragment:v,isValidElement:cn,findDOMNode:hn,Component:a,PureComponent:E,memo:g,forwardRef:x,unstable_batchedUpdates:pn,StrictMode:v,Suspense:L,SuspenseList:F,lazy:D,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Q};export{ln as version,k as Children,z as render,B as hydrate,sn as unmountComponentAtNode,I as createPortal,fn as createFactory,an as cloneElement,cn as isValidElement,hn as findDOMNode,E as PureComponent,g as memo,x as forwardRef,pn as unstable_batchedUpdates,vn as StrictMode,L as Suspense,F as SuspenseList,D as lazy,Q as __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X as unstable_ImmediatePriority,nn as unstable_UserBlockingPriority,tn as unstable_NormalPriority,en as unstable_LowPriority,rn as unstable_IdlePriority,un as unstable_runWithPriority,on as unstable_now};\n//# sourceMappingURL=compat.module.js.map\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","/**\n * Converts an integer representation of an RGB color to a CSS color string.\n * For example, 0x123456 to rgba(18,52,86,1)\n */\nexport function numberColorToRGBA(color: number, opacity = 1): string {\n  return `rgba(${(color >> 16) % 0x100},${(color >> 8) % 0x100},${color % 0x100},${opacity})`\n}\n\n/**\n * Opposite to `numberColorToRGBA`\n */\nexport function rgbColorToNumber(color: string): [number, number] | undefined {\n  const match = /rgba?\\((\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)/i.exec(color)\n  if (!match) {\n    return undefined\n  }\n  return [(+match[1] << 16) | (+match[2] << 8) | +match[3], match[4] ? +match[4] : 1]\n}\n","// eslint-disable-next-line @typescript-eslint/no-var-requires\nconst shallowEqual = require('shallowequal')\nimport * as React from 'react'\nimport { isDesktopSafari, isWebKit, isWebKit606OrNewer } from './browser'\n\nexport interface OscillatorOptions {\n  type: OscillatorType\n  frequency: number\n}\n\nexport interface DynamicsCompressorOptions {\n  threshold: number\n  knee: number\n  ratio: number\n  attack: number\n  release: number\n}\n\nexport interface Options {\n  /** Number of samples (signal values) to render */\n  length: number\n  oscillator: OscillatorOptions\n  /** Omit the property to disable the dynamics compressor */\n  dynamicsCompressor?: DynamicsCompressorOptions\n}\n\n/**\n * Renders an audio signal.\n * Undefined is returned when the signal can't be rendered and there is no error.\n *\n * Based on https://github.com/fingerprintjs/fingerprintjs/blob/9760b06109/src/sources/audio.ts\n */\nexport async function getAudioSignal(options: Options): Promise<Float32Array | undefined> {\n  const w = window\n  const AudioContext = w.OfflineAudioContext || w.webkitOfflineAudioContext\n  if (!AudioContext) {\n    return undefined\n  }\n\n  // In some browsers, audio context always stays suspended unless the context is started in response to a user action\n  // (e.g. a click or a tap). It prevents audio signal from being rendered at an arbitrary moment of time.\n  if (doesCurrentBrowserSuspendAudioContext()) {\n    return undefined\n  }\n\n  const context = new AudioContext(1, options.length, 44100)\n  const nodes: AudioNode[] = []\n\n  const oscillator = context.createOscillator()\n  nodes.push(oscillator)\n  oscillator.type = options.oscillator.type\n  oscillator.frequency.value = options.oscillator.frequency\n\n  if (options.dynamicsCompressor) {\n    const compressor = context.createDynamicsCompressor()\n    nodes.push(compressor)\n    for (const trait of ['threshold', 'knee', 'ratio', 'attack', 'release'] as const) {\n      compressor[trait].value = options.dynamicsCompressor[trait]\n    }\n  }\n\n  // Connect the nodes sequentially\n  for (let i = 0; i < nodes.length; ++i) {\n    nodes[i].connect(nodes[i + 1] ?? context.destination)\n  }\n  oscillator.start(0)\n\n  const buffer = await renderAudio(context)\n  return buffer.getChannelData(0)\n}\n\n/**\n * Checks if the current browser is known to always suspend audio context\n */\nfunction doesCurrentBrowserSuspendAudioContext() {\n  return isWebKit() && !isDesktopSafari() && !isWebKit606OrNewer()\n}\n\nfunction renderAudio(context: OfflineAudioContext) {\n  return new Promise<AudioBuffer>((resolve, reject) => {\n    context.oncomplete = (event) => resolve(event.renderedBuffer)\n\n    const tryResume = () => {\n      try {\n        context.startRendering()\n      } catch (error) {\n        reject(error)\n        return\n      }\n\n      // Sometimes the audio context doesn't start after calling `startRendering` (in addition to the cases where\n      // audio context doesn't start at all). A known case is starting an audio context when the browser tab is in\n      // background on iPhone. Retries usually help in this case.\n      if (context.state === 'suspended') {\n        setTimeout(tryResume, 300)\n      }\n    }\n\n    tryResume()\n  })\n}\n\n/**\n * Renders audio signals sequentially.\n *\n * Null means that the signal is impossible to get.\n * Undefined means that the no signal has been calculated yet.\n */\nexport function useAudioSignal(options: Options): Float32Array | null | undefined {\n  const [signal, setSignal] = React.useState<Float32Array | null>()\n  const queueRef = React.useRef<ReturnType<typeof makeRenderingQueue>>()\n\n  React.useEffect(() => {\n    queueRef.current = makeRenderingQueue((signal) => setSignal(signal || null))\n    return queueRef.current.stop\n  }, [])\n\n  React.useEffect(() => {\n    queueRef.current?.setOptions(options)\n  }, [options])\n\n  return signal\n}\n\nexport function areOptionsEqual(options1: Options, options2: Options): boolean {\n  for (const property of ['length', 'oscillator', 'dynamicsCompressor'] as const) {\n    if (!shallowEqual(options1[property], options2[property])) {\n      return false\n    }\n  }\n  return true\n}\n\n/**\n * Helps getting 1 audio signal at a time.\n */\nfunction makeRenderingQueue(onSignalReady: (signal: Float32Array | undefined) => unknown) {\n  let isRendering = false\n  let isStopped = false\n  let lastRequestedOptions: Options | undefined\n  let lastCompletedOptions: Options | undefined\n\n  const setOptions = async (options: Options) => {\n    lastRequestedOptions = options\n\n    if (isRendering || isStopped) {\n      return\n    }\n\n    try {\n      isRendering = true\n\n      while (!(lastCompletedOptions && areOptionsEqual(lastRequestedOptions, lastCompletedOptions))) {\n        // Save the options so that they are the same after completing the rendering\n        const currentOptions = lastRequestedOptions\n        let signal: Float32Array | undefined\n\n        try {\n          signal = await getAudioSignal(currentOptions)\n        } catch (error) {\n          // eslint-disable-next-line no-console\n          console.error(error)\n        }\n\n        lastCompletedOptions = currentOptions\n        if (isStopped) {\n          break\n        } else {\n          onSignalReady(signal)\n        }\n      }\n    } finally {\n      isRendering = false\n    }\n  }\n\n  const stop = () => {\n    isStopped = true\n  }\n\n  return { setOptions, stop }\n}\n","import { countTruthy } from './data'\n\n/**\n * Checks whether the browser is based on mobile or desktop Safari without using user-agent.\n * All iOS browsers use WebKit (the Safari engine).\n */\nexport function isWebKit(): boolean {\n  // Based on research in September 2020\n  const w = window\n  const n = navigator\n\n  return (\n    countTruthy([\n      'ApplePayError' in w,\n      'CSSPrimitiveValue' in w,\n      'Counter' in w,\n      n.vendor.indexOf('Apple') === 0,\n      'getStorageUpdates' in n,\n      'WebKitMediaKeys' in w,\n    ]) >= 4\n  )\n}\n\n/**\n * Checks whether the WebKit browser is a desktop Safari.\n */\nexport function isDesktopSafari(): boolean {\n  const w = window\n\n  return (\n    countTruthy([\n      'safari' in w, // Always false in Karma and BrowserStack Automate\n      !('DeviceMotionEvent' in w),\n      !('ongestureend' in w),\n      !('standalone' in navigator),\n    ]) >= 3\n  )\n}\n\n/**\n * Checks whether the browser is based on WebKit version 606 (Safari 12) without using user-agent.\n * It doesn't check that the browser is based on WebKit, there is a separate function for this.\n *\n * @link https://en.wikipedia.org/wiki/Safari_version_history#Release_history Safari-WebKit versions map\n */\nexport function isWebKit606OrNewer(): boolean {\n  // Checked in Safari 914\n  const w = window\n\n  return (\n    countTruthy([\n      'DOMRectList' in w,\n      'RTCPeerConnectionIceEvent' in w,\n      'SVGGeometryElement' in w,\n      'ontransitioncancel' in w,\n    ]) >= 3\n  )\n}\n","import * as React from 'react'\nimport * as styles from './loading_screen.css'\n\ninterface Props {\n  fullAbsolute?: boolean\n  className?: string\n}\n\nexport default function LoadingScreen({ fullAbsolute, className = '' }: Props): React.ReactElement {\n  return <div className={`${styles.box} ${fullAbsolute ? styles.full : ''} ${className}`}>Loading...</div>\n}\n","// extracted by mini-css-extract-plugin\nexport const box = \"loading_screen__box__3UVK0\";\nexport const full = \"loading_screen__full__M-mID\";","import * as React from 'react'\nimport * as styles from './layout.css'\n\ninterface Props {\n  content: React.ReactNode\n  controls: React.ReactNode\n}\n\n/**\n * A full-screen layout for the demos\n */\nexport default function Layout({ content, controls }: Props): React.ReactElement {\n  return (\n    <div className={styles.body}>\n      <div className={styles.content}>{content}</div>\n      <div className={styles.controls}>{controls}</div>\n    </div>\n  )\n}\n","// extracted by mini-css-extract-plugin\nexport const body = \"layout__body__38GWF\";\nexport const content = \"layout__content__24HYH\";\nexport const controls = \"layout__controls__3LXUD\";","export function isInRectangle(\n  targetX: number,\n  targetY: number,\n  rectX: number,\n  rectY: number,\n  rectWidth: number,\n  rectHeight: number,\n): boolean {\n  return targetX >= rectX && targetX < rectX + rectWidth && targetY >= rectY && targetY < rectY + rectHeight\n}\n\nexport function isInCircle(\n  targetX: number,\n  targetY: number,\n  circleCenterX: number,\n  circleCenterY: number,\n  circleRadius: number,\n): boolean {\n  return (targetX - circleCenterX) ** 2 + (targetY - circleCenterY) ** 2 <= circleRadius ** 2\n}\n","import { isInCircle } from './geometry'\n\ntype MouseEventHandler = (event: MouseEvent) => unknown\ntype TouchEventHandler = (touch: Touch) => unknown\ntype MouseOrTouchEventHandler = (event: MouseEvent | Touch) => unknown\ntype Coordinates = [x: number, y: number]\n\nconst { addEventListener, removeEventListener, setTimeout, clearTimeout } = window\n\n/**\n * Triggers the move callback until the mouse drag is finished. Create in a mousedown event handler.\n */\nexport function watchMouseDrag({\n  onMove,\n  onEnd,\n}: {\n  onMove: MouseEventHandler\n  onEnd: MouseEventHandler\n}): { destroy(): void } {\n  const handleMove = (event: MouseEvent) => {\n    onMove(event)\n  }\n\n  const handleEnd = (event: MouseEvent) => {\n    destroy()\n    onEnd(event)\n  }\n\n  addEventListener('mousemove', handleMove)\n  addEventListener('mouseup', handleEnd)\n  addEventListener('mouseleave', handleEnd)\n\n  const destroy = () => {\n    removeEventListener('mousemove', handleMove)\n    removeEventListener('mouseup', handleEnd)\n    removeEventListener('mouseleave', handleEnd)\n  }\n\n  return { destroy }\n}\n\n/**\n * Triggers the move callback until the touch move is finished. Create in a touchstart event handler.\n */\nexport function watchTouchDrag({\n  startTouch,\n  eventTarget = window,\n  onMove,\n  onEnd,\n}: {\n  startTouch: Touch\n  eventTarget?: GlobalEventHandlers\n  onMove: TouchEventHandler\n  onEnd: TouchEventHandler\n}): { destroy(): void } {\n  const getTouch = (event: TouchEvent) => {\n    for (let i = 0; i < event.changedTouches.length; ++i) {\n      const touch = event.changedTouches[i]\n      if (touch.identifier === startTouch.identifier) {\n        return touch\n      }\n    }\n\n    return null\n  }\n\n  const handleMove = (event: TouchEvent) => {\n    const touch = getTouch(event)\n    if (touch) {\n      onMove(touch)\n    }\n  }\n\n  const handleEnd = (event: TouchEvent) => {\n    const touch = getTouch(event)\n    if (touch) {\n      destroy()\n      onEnd(touch)\n    }\n  }\n\n  eventTarget.addEventListener('touchmove', handleMove)\n  eventTarget.addEventListener('touchend', handleEnd)\n  eventTarget.addEventListener('touchcancel', handleEnd)\n\n  const destroy = () => {\n    eventTarget.removeEventListener('touchmove', handleMove)\n    eventTarget.removeEventListener('touchend', handleEnd)\n    eventTarget.removeEventListener('touchcancel', handleEnd)\n  }\n\n  return { destroy }\n}\n\nexport function watchHover({\n  element,\n  onMove,\n  onEnd,\n  checkHover = () => true,\n}: {\n  element: GlobalEventHandlers\n  onMove: MouseOrTouchEventHandler\n  onEnd: MouseOrTouchEventHandler\n  checkHover?: (event: MouseEvent | Touch) => boolean\n}): { destroy(): void } {\n  let hoverId: string | undefined\n\n  const handleMove = (event: Event) => {\n    eachSubEvent(event, (id, subEvent) => {\n      if (hoverId === undefined || id === hoverId) {\n        if (checkHover(subEvent)) {\n          hoverId = id\n          onMove(subEvent)\n        } else if (hoverId !== undefined) {\n          hoverId = undefined\n          onEnd(subEvent)\n        }\n      }\n    })\n  }\n\n  const handleEnd = (event: Event) => {\n    eachSubEvent(event, (id, subEvent) => {\n      if (hoverId === id) {\n        event.preventDefault() // To prevent the frozen hover on touch devices\n        hoverId = undefined\n        onEnd(subEvent)\n      }\n    })\n  }\n\n  const moveEvents = ['mouseenter', 'mousemove', 'touchstart', 'touchmove'] as const\n  const endEvents = ['mouseleave', 'touchend', 'touchcancel'] as const\n\n  for (const name of moveEvents) {\n    element.addEventListener(name, handleMove)\n  }\n  for (const name of endEvents) {\n    element.addEventListener(name, handleEnd)\n  }\n\n  return {\n    destroy() {\n      for (const name of moveEvents) {\n        element.removeEventListener(name, handleMove)\n      }\n      for (const name of endEvents) {\n        element.removeEventListener(name, handleEnd)\n      }\n    },\n  }\n}\n\nexport function watchLongTap(\n  element: GlobalEventHandlers,\n  onShortTap: () => unknown,\n  onLongTap: () => unknown,\n  longTapTime = 500,\n  maxTapDistance = 10,\n): { destroy(): void } {\n  let tapId: string | undefined\n  let tapStartCoordinates: Coordinates | undefined\n  let timeoutId: number | undefined\n\n  const permanentEventHandlers = {\n    mousedown: handleTapStart,\n    touchstart: handleTapStart,\n    touchmove: handleTapMove,\n    touchend: handleTapEnd,\n    touchcancel: handleTapEnd,\n    contextmenu: preventDefault, // To prevent the context menu on a long touch\n  }\n\n  for (const event of Object.keys(permanentEventHandlers) as Array<keyof typeof permanentEventHandlers>) {\n    element.addEventListener(event, permanentEventHandlers[event])\n  }\n\n  return {\n    destroy() {\n      clearAfterTap()\n      for (const event of Object.keys(permanentEventHandlers) as Array<keyof typeof permanentEventHandlers>) {\n        element.removeEventListener(event, permanentEventHandlers[event])\n      }\n    },\n  }\n\n  function handleTapStart(event: Event) {\n    eachSubEvent(event, (id, subEvent) => {\n      clearAfterTap()\n      tapId = id\n      tapStartCoordinates = getEventCoordinates(subEvent)\n      timeoutId = setTimeout(handleTapTimeout, longTapTime)\n\n      if (id === 'mouse') {\n        event.preventDefault()\n        addEventListener('mousemove', handleTapMove)\n        addEventListener('mouseup', handleTapEnd)\n      }\n    })\n  }\n\n  function handleTapMove(event: Event) {\n    eachSubEvent(event, (id, subEvent) => {\n      if (id === tapId) {\n        if (!isInTapDistance(getEventCoordinates(subEvent))) {\n          clearAfterTap()\n        }\n      }\n    })\n  }\n\n  function handleTapEnd(event: Event) {\n    event.preventDefault() // To prevent excess artificial mouse events after releasing the element\n\n    eachSubEvent(event, (id) => {\n      if (id === tapId) {\n        clearAfterTap()\n        onShortTap()\n      }\n    })\n  }\n\n  function handleTapTimeout() {\n    clearAfterTap()\n    onLongTap()\n  }\n\n  function clearAfterTap() {\n    if (tapId === 'mouse') {\n      removeEventListener('mousemove', handleTapMove)\n      removeEventListener('mouseup', handleTapEnd)\n    }\n    if (timeoutId !== undefined) {\n      clearTimeout(timeoutId)\n      timeoutId = undefined\n    }\n    tapId = undefined\n    tapStartCoordinates = undefined\n  }\n\n  function isInTapDistance(coordinates: Coordinates) {\n    if (!tapStartCoordinates) {\n      return false\n    }\n\n    return isInCircle(coordinates[0], coordinates[1], tapStartCoordinates[0], tapStartCoordinates[1], maxTapDistance)\n  }\n\n  function getEventCoordinates(event: MouseEvent | Touch): Coordinates {\n    return [event.clientX, event.clientY]\n  }\n}\n\nfunction eachSubEvent(event: Event, callback: (type: string, event: MouseEvent | Touch) => unknown) {\n  if (event.type.startsWith('mouse')) {\n    callback('mouse', event as MouseEvent)\n  } else if (event.type.startsWith('touch')) {\n    const touches = (event as TouchEvent).changedTouches\n    for (let i = 0; i < touches.length; ++i) {\n      callback(`touch${touches[i].identifier}`, touches[i])\n    }\n  }\n}\n\nfunction preventDefault(event: Event) {\n  event.preventDefault()\n}\n","import * as React from 'react'\nimport { watchLongTap } from '../../utils/gesture'\nimport * as style from './toggle_button.css'\n\ninterface Props {\n  /** CSS color */\n  color: string\n  text: string\n  on: boolean\n  onClick?(): void\n  onLongClick?(): void\n  className?: string\n}\n\nexport default function ToggleButton({\n  color,\n  text,\n  on,\n  onClick,\n  onLongClick,\n  className = '',\n}: Props): React.ReactElement {\n  const buttonRef = React.useRef<HTMLButtonElement>(null)\n\n  // In order not to reestablish the event listeners when the callback change\n  const onClickRef = React.useRef(onClick)\n  const onLongClickRef = React.useRef(onLongClick)\n  onClickRef.current = onClick\n  onLongClickRef.current = onLongClick\n\n  React.useEffect(() => {\n    return watchLongTap(\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      buttonRef.current!,\n      () => onClickRef.current?.(),\n      () => onLongClickRef.current?.(),\n    ).destroy\n  }, [])\n\n  return (\n    <button\n      className={`${style.button} ${on ? style.on : ''} ${className}`}\n      style={{ borderColor: color }}\n      ref={buttonRef}\n    >\n      <span className={style.background} style={{ backgroundColor: color }} />\n      <span className={style.checkmark}>\n        <i />\n        <i />\n      </span>\n      <span className={style.name}>\n        <span style={{ color: color }}>{text}</span>\n        <span>{text}</span>\n      </span>\n    </button>\n  )\n}\n","// extracted by mini-css-extract-plugin\nexport const button = \"toggle_button__button__80Jmt\";\nexport const background = \"toggle_button__background__1OHxN\";\nexport const on = \"toggle_button__on__BxEmw\";\nexport const checkmark = \"toggle_button__checkmark__6FFAX\";\nexport const name = \"toggle_button__name__2Xzeg\";","import * as React from 'react'\nimport { toggleArrayItem } from '../../utils/data'\nimport * as style from './toggle_button_group.css'\nimport ToggleButton from './toggle_button'\n\nexport interface Button<T> {\n  /** CSS color */\n  color: string\n  text: string\n  value: T\n  key?: React.Key\n}\n\ninterface Props<T> {\n  buttons: Button<T>[]\n  on: T[]\n  onSwitch(on: T[]): unknown\n  className?: string\n}\n\nconst ToggleButtonGroup = React.memo(function ToggleButtonGroup<T>({\n  buttons,\n  on,\n  onSwitch,\n  className = '',\n}: Props<T>) {\n  const onLongClick = (value: T) => {\n    if (on.length === 1 && on[0] === value) {\n      onSwitch(buttons.map((button) => button.value))\n    } else {\n      onSwitch([value])\n    }\n  }\n\n  return (\n    <div className={`${style.list} ${className}`}>\n      {buttons.map(({ color, text, value, key }, index) => (\n        <ToggleButton\n          color={color}\n          text={text}\n          on={on.includes(value)}\n          onClick={() => onSwitch(toggleArrayItem(on, value))}\n          onLongClick={() => onLongClick(value)}\n          className={style.item}\n          key={key ?? index}\n        />\n      ))}\n    </div>\n  )\n}) as <T>(props: Props<T>) => React.ReactElement\n\nexport default ToggleButtonGroup\n","// extracted by mini-css-extract-plugin\nexport const list = \"toggle_button_group__list__3N1Z_\";\nexport const item = \"toggle_button_group__item__2oJMg\";","import { rgbColorToNumber } from '../utils/color'\n\n// These styles aren't obtained immediately because the page CSS can be still loading while this script is initialized\nlet fontFamilyCache: string\nlet textColorCache: number\nlet backgroundColorCache: number\n\nfunction populateCacheIfEmpty() {\n  if (fontFamilyCache === undefined) {\n    const bodyStyle = getComputedStyle(document.body)\n    fontFamilyCache = bodyStyle.fontFamily\n\n    const textColor = rgbColorToNumber(bodyStyle.color)\n    if (!textColor) {\n      throw new Error('Failed to parse the <body> text color')\n    }\n    textColorCache = textColor[0]\n\n    const backgroundColor = rgbColorToNumber(bodyStyle.backgroundColor)\n    if (!backgroundColor) {\n      throw new Error('Failed to parse the <body> background color')\n    }\n    backgroundColorCache = backgroundColor[0]\n  }\n}\n\nexport function getFontFamily(): string {\n  populateCacheIfEmpty()\n  return fontFamilyCache\n}\n\nexport function getTextColor(): number {\n  populateCacheIfEmpty()\n  return textColorCache\n}\n\nexport function getBackgroundColor(): number {\n  populateCacheIfEmpty()\n  return backgroundColorCache\n}\n\nexport const chartSidePadding = 12\nexport const chartMainTopMargin = 0\nexport const chartMainFadeHeight = 16\nexport const chartMainLinesTopMargin = 18\nexport const chartMainLinesBottomMargin = 35\nexport const chartMapHeight = 40\nexport const chartMapBottom = 1\nexport const chartMapCornerRadius = 5\nexport const chartMapLineWidth = 1\nexport const chartMapLinesHorizontalMargin = 1\nexport const chartMapLinesVerticalMargin = 4 / 3\nexport const chartSelectorOutsideColor = 0xe9e9f1\nexport const chartSelectorOutsideOpacity = 0.6\nexport const chartSelectorBorderColor = 0xccccdb\nexport const chartSelectorBorderCornerRadius = 6\nexport const chartSelectorVerticalPadding = -1\nexport const chartSelectorNotchColor = 0xffffff\nexport const chartSelectorNotchWidth = 2\nexport const chartSelectorNotchHeight = 10\nexport const chartSelectorNotchCornerRadius = 1\nexport const chartMainLineWidth = 2\nexport const chartScaleLineColor = 0x182d3b\nexport const chartScaleLineOpacity = 0.1\nexport const chartScaleLineWidth = 1\nexport const chartScaleLabelColor = 0x8e8e93\nexport const chartScaleLabelFontSize = 11\nexport const chartScaleLabelUnderlayOpacity = 0.6\nexport const chartScaleLabelUnderlayPadding = 2\nexport const chartIndexScaleLabelMargin = 8\nexport const chartSelectorGripWidth = 10\nexport const chartValueScaleLabelMargin = 4\nexport const chartValueScaleMinSpaceForNotch = 70\nexport const chartValueScaleMaxNotchCount = 10\nexport const chartLinePointerRadius = 4\n\nexport const chartDetailsPopupXMargin = 22\nexport const chartDetailsPopupMinDistanceToEdge = 5\nexport const chartDetailsPopupY = 24\nexport const chartDetailsPopupSidePadding = 12\nexport const chartDetailsPopupCornerRadius = 10\nexport const chartDetailsPopupHeaderFontPrefix = 'Sample #'\nexport const chartDetailsPopupHeaderFontSize = 13\nexport const chartDetailsPopupHeaderFontWeight = 'bold'\nexport const chartDetailsPopupHeaderBaselineY = 20\nexport const chartDetailsPopupFirstRowBaselineY = 41\nexport const chartDetailsPopupRowHeight = 21\nexport const chartDetailsPopupBottomPadding = 13\nexport const chartDetailsPopupFontSize = 13\nexport const chartDetailsPopupFontWeight = 'regular'\nexport const chartDetailsPopupValueFontWeight = 'regular'\nexport const chartDetailsPopupBackgroundColor = 0xffffff\nexport const chartDetailsPopupShadowColor = 0x000000\nexport const chartDetailsPopupShadowOpacity = 0.2\nexport const chartDetailsPopupShadowXOffset = 0\nexport const chartDetailsPopupShadowYOffset = 1\nexport const chartDetailsPopupShadowBlur = 3\nexport const chartDetailsPopupMissingValueText = '-'\n\nexport const palette = [\n  0x699ace,\n  0xdf8244,\n  0xf6c143,\n  0x7ea954,\n  0x4d74bf,\n  0x335e8d,\n  0x944c20,\n  0x636365,\n  0x947424,\n  0x2a4287,\n  0x4b6633,\n  0xa5a5a5,\n]\n","export function quadIn(t) {\n  return t * t;\n}\n\nexport function quadOut(t) {\n  return t * (2 - t);\n}\n\nexport function quadInOut(t) {\n  return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;\n}\n","function areInputsEqual(newInputs, lastInputs) {\n    if (newInputs.length !== lastInputs.length) {\n        return false;\n    }\n    for (var i = 0; i < newInputs.length; i++) {\n        if (newInputs[i] !== lastInputs[i]) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoizeOne(resultFn, isEqual) {\n    if (isEqual === void 0) { isEqual = areInputsEqual; }\n    var lastThis;\n    var lastArgs = [];\n    var lastResult;\n    var calledOnce = false;\n    function memoized() {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (calledOnce && lastThis === this && isEqual(newArgs, lastArgs)) {\n            return lastResult;\n        }\n        lastResult = resultFn.apply(this, newArgs);\n        calledOnce = true;\n        lastThis = this;\n        lastArgs = newArgs;\n        return lastResult;\n    }\n    return memoized;\n}\n\nexport default memoizeOne;\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { easeCubicOut } from 'd3-ease'\n\n/**\n * A passive animation for an animation group\n */\nexport interface Animation<T, U = T> {\n  /** Returns the current animation state */\n  getState(): T\n  /** Returns true if the animation has stopped and doesn't need a frame to update */\n  isFinished(): boolean\n  /** Sets the new animation target. Animation may start again when this method is called. */\n  moveTo(target: U, instantly?: boolean): void\n}\n\ntype AnimationReadState<T extends Animation<any>> = T extends Animation<infer A, any> ? A : never\ntype AnimationWriteState<T extends Animation<any>> = T extends Animation<any, infer A> ? A : never\n\nexport interface AnimationGroup<T extends Record<keyof any, Animation<any>>> {\n  /**\n   * Sets the animations targets. The motion happens after calling this.\n   *\n   * @param targets The keys are the animation ids. May contain not all the animations.\n   * @param isInitial Set to true to change the state immediately and don't trigger the callback\n   */\n  moveTo(targets: { [K in keyof T]?: AnimationWriteState<T[K]> }, isInitial?: boolean): void\n\n  /** Returns the current animations states. The keys are the animation ids. */\n  getState(): { [K in keyof T]: AnimationReadState<T[K]> }\n\n  /** Cancels the animations */\n  destroy(): void\n\n  /** Calls the update callback on the next browser animation frame */\n  updateOnNextFrame(): void\n}\n\n/**\n * Allows to have multiple animations with a single callback call on every animation frame\n *\n * @param animations The groups animations. The keys are the animation ids.\n * @param onUpdate A function to call when an animation state changes. Use it to apply the animations state to a target.\n */\nexport function makeAnimationGroup<T extends Record<keyof any, Animation<any>>>(\n  animations: T,\n  onUpdate: () => void,\n): AnimationGroup<T> {\n  let animationFrameId = -1\n  const animationGroup = makeTransitionGroup(animations)\n\n  function updateOnNextFrame() {\n    if (animationFrameId === -1) {\n      animationFrameId = requestAnimationFrame(handleAnimationFrame)\n    }\n  }\n\n  function handleAnimationFrame() {\n    animationFrameId = -1\n\n    if (!animationGroup.isFinished()) {\n      updateOnNextFrame()\n    }\n\n    onUpdate()\n  }\n\n  return {\n    moveTo(targets, isInitial) {\n      animationGroup.moveTo(targets, isInitial)\n      if (!isInitial && animationFrameId === -1 && !animationGroup.isFinished()) {\n        updateOnNextFrame()\n      }\n    },\n\n    getState() {\n      return animationGroup.getState()\n    },\n\n    destroy() {\n      if (animationFrameId !== -1) {\n        cancelAnimationFrame(animationFrameId)\n        animationFrameId = -1\n      }\n    },\n\n    updateOnNextFrame,\n  }\n}\n\ninterface TransitionOptions {\n  duration?: number\n  easing?: (progress: number) => number\n  maxDistance?: number\n}\n\n/**\n * A simple transition from one value to another\n */\nexport function makeTransition(\n  initialValue = 0,\n  { duration = 400, easing = easeCubicOut, maxDistance = Infinity }: TransitionOptions = {},\n): Animation<number> {\n  let startValue = initialValue\n  let startTime = Date.now()\n  let targetValue = initialValue\n  let finished = true\n\n  function getState() {\n    const stage = Math.min(1, (Date.now() - startTime) / duration)\n\n    if (stage >= 1) {\n      finished = true\n    }\n\n    return startValue + (targetValue - startValue) * easing(stage)\n  }\n\n  function isFinished() {\n    return finished\n  }\n\n  function moveTo(value: number, instantly?: boolean) {\n    if (value === targetValue) {\n      return\n    }\n\n    startValue = instantly ? value : getState()\n    startTime = Date.now()\n    targetValue = value\n    finished = false\n\n    if (startValue < targetValue) {\n      startValue = Math.max(startValue, targetValue - maxDistance)\n    } else {\n      startValue = Math.min(startValue, targetValue + maxDistance)\n    }\n  }\n\n  return { getState, isFinished, moveTo }\n}\n\n/**\n * Groups multiple transition so that they can be controlled as one transition\n *\n * @param {Record<string, AnimationGroup~Animation>} transitions\n * @returns AnimationGroup~Animation\n */\nexport function makeTransitionGroup<T extends Record<keyof any, Animation<any>>>(\n  transitions: T,\n): Animation<{ [K in keyof T]: AnimationReadState<T[K]> }, { [K in keyof T]?: AnimationWriteState<T[K]> }> {\n  const transitionKeys = Object.keys(transitions) as Array<keyof T>\n\n  return {\n    getState() {\n      const state = {} as { [K in keyof T]: AnimationReadState<T[K]> }\n\n      for (let i = 0; i < transitionKeys.length; ++i) {\n        state[transitionKeys[i]] = transitions[transitionKeys[i]].getState()\n      }\n\n      return state\n    },\n\n    isFinished() {\n      for (let i = 0; i < transitionKeys.length; ++i) {\n        if (!transitions[transitionKeys[i]].isFinished()) {\n          return false\n        }\n      }\n\n      return true\n    },\n\n    moveTo(targets, instantly) {\n      for (const key in targets) {\n        if (Object.prototype.hasOwnProperty.call(transitions, key)) {\n          transitions[key].moveTo(targets[key], instantly)\n        }\n      }\n    },\n  }\n}\n\n/**\n * Handles two transitions: makes the first instant when the opacity is 0. Suitable for something that should move\n * instantly while invisible.\n */\nexport function makeInstantWhenHiddenTransition<T, U>(\n  valueTransition: Animation<T, U>,\n  opacityTransition: Animation<number>,\n): Animation<[T, number], [U | undefined, number]> {\n  return {\n    getState() {\n      return [valueTransition.getState(), opacityTransition.getState()]\n    },\n\n    isFinished() {\n      return valueTransition.isFinished() && opacityTransition.isFinished()\n    },\n\n    moveTo([value, opacity], instantly) {\n      if (value !== undefined) {\n        valueTransition.moveTo(value, instantly || opacityTransition.getState() <= 0)\n      }\n      opacityTransition.moveTo(opacity, instantly)\n    },\n  }\n}\n\ninterface ExponentialTransitionOption extends TransitionOptions {\n  minValue?: number\n}\n\n/**\n * Animates the number power transitions. A great choice for a zoom transition.\n */\nexport function makeExponentialTransition(\n  initialValue = 0,\n  { minValue = 1e-12, ...options }: ExponentialTransitionOption = {},\n): Animation<number> {\n  function plainValueToPower(value: number) {\n    return Math.log(Math.max(value, minValue))\n  }\n\n  function powerToPlainValue(power: number) {\n    return Math.exp(power)\n  }\n\n  const powerTransition = makeTransition(plainValueToPower(initialValue), options)\n\n  return {\n    getState() {\n      return powerToPlainValue(powerTransition.getState())\n    },\n    isFinished: powerTransition.isFinished,\n    moveTo(value, instantly) {\n      powerTransition.moveTo(plainValueToPower(value), instantly)\n    },\n  }\n}\n\n/**\n * Animates the number logarithm transition. Designed for transition of the scale of an axis with a linear value\n * transition. Does opposite to `makeExponentialTransition`.\n */\nexport function makeLogarithmicTransition(initialValue = 0, options?: TransitionOptions): Animation<number> {\n  function getPoweredValue(value: number) {\n    return Math.exp(value)\n  }\n\n  function getOriginalValue(poweredValue: number) {\n    return Math.log(Math.max(poweredValue))\n  }\n\n  const valueTransition = makeTransition(getPoweredValue(initialValue), options)\n\n  return {\n    getState() {\n      return getOriginalValue(valueTransition.getState())\n    },\n    isFinished: valueTransition.isFinished,\n    moveTo(value, instantly) {\n      valueTransition.moveTo(getPoweredValue(value), instantly)\n    },\n  }\n}\n","export function inRange(min: number, value: number, max: number): number {\n  if (value < min) {\n    return min\n  }\n  if (value > max) {\n    return max\n  }\n  return value\n}\n\n// https://stackoverflow.com/q/4467539/1118709\nexport function modulo(dividend: number, divider: number): number {\n  return ((dividend % divider) + divider) % divider\n}\n\nexport const roundWithBase = makeAlignWithBase(Math.round)\nexport const floorWithBase = makeAlignWithBase(Math.floor)\nexport const ceilWithBase = makeAlignWithBase(Math.ceil)\n\nfunction makeAlignWithBase(aligner: (number: number) => number): (number: number, base: number) => number {\n  return (number, base) => {\n    if (base < 1 && base > -1) {\n      // JavaScript tends to lose precision when a number is divided by a very small number.\n      // It's safer to turn it into a big number and do the opposite operation.\n      const oppositeBase = 1 / base\n      return aligner(number * oppositeBase) / oppositeBase\n    } else {\n      return aligner(number / base) * base\n    }\n  }\n}\n\nconst shortNumberSuffixes = ['K', 'M', 'B']\n\nexport function formatNumberToShortForm(number: number): string {\n  const suffixPower = getNumberSuffixPower(number)\n  return suffixPower === 0 ? String(number) : number / 1000 ** suffixPower + shortNumberSuffixes[suffixPower - 1]\n}\n\nfunction getNumberSuffixPower(number: number): number {\n  if (number === 0) {\n    return 0\n  }\n\n  for (let power = 1; power <= shortNumberSuffixes.length; ++power) {\n    const base = 1000 ** power\n\n    if (number % base !== 0) {\n      return power - 1\n    }\n  }\n\n  return shortNumberSuffixes.length\n}\n\nexport function formatNumberWithThousandGroups(\n  number: number,\n  fractionalPrecision?: number | null,\n  divider = ' ',\n): string {\n  const numberString = typeof fractionalPrecision === 'number' ? number.toFixed(fractionalPrecision) : String(number)\n  const [integer, fractional] = numberString.split('.')\n  const digitsCount = integer.length\n  let groupedInteger = ''\n\n  for (let i = 0; i < digitsCount; i += 3) {\n    groupedInteger =\n      integer.slice(Math.max(0, digitsCount - i - 3), digitsCount - i) +\n      (groupedInteger ? divider + groupedInteger : '')\n  }\n\n  return groupedInteger + (fractional ? `.${fractional}` : '')\n}\n\n/**\n * Aims to solve the 0.1 + 0.2 problem\n */\nexport function removeFloatArtifact(value: number): number {\n  // The maximum required precision for this app is 1e-8\n  return roundWithBase(value, 1e-10)\n}\n","import { modulo, floorWithBase, ceilWithBase, removeFloatArtifact } from './number'\n\nconst log10Of2 = Math.log10(2)\nconst log10Of5 = Math.log10(5)\n\nexport interface DecimalScaleState {\n  min: number\n  max: number\n  /** @see getSubDecimalScale. You can turn it into a plain number using the `subDecimalScaleToNumber` function. */\n  notchScale: number\n}\n\n/**\n * Returns a number meaning what human-readable number can be used to fit the given value\n *\n * @param value\n * @param doRoundUp Do round to the greater number? Otherwise to the lower.\n * @returns 0 for 1, 1 for 2, 2 for 5, 3 for 10, 4 for 20, 5 for 50 and so on\n */\nexport function getSubDecimalScale(value: number, doRoundUp = false): number {\n  const log10 = Math.log10(value)\n  const log10Base = Math.floor(log10)\n  const log10Remainder = modulo(log10, 1)\n\n  if (log10 === -Infinity) {\n    return -Infinity\n  }\n\n  if (log10Remainder === 0 || (!doRoundUp && log10Remainder < log10Of2)) {\n    return log10Base * 3\n  }\n  if (log10Remainder <= log10Of2 || (!doRoundUp && log10Remainder < log10Of5)) {\n    return log10Base * 3 + 1\n  }\n  if (log10Remainder <= log10Of5 || !doRoundUp) {\n    return log10Base * 3 + 2\n  }\n  return log10Base * 3 + 3\n}\n\n/**\n * Converts the result of `getSubDecimalScale` back to a plain number\n *\n * @param scale\n * @returns 1 for 0, 2 for 1, 5 for 2, 10 for 3, 20 for 4, 50 for 5 and so on\n */\nexport function subDecimalScaleToNumber(scale: number): number {\n  const base = 10 ** Math.floor(scale / 3)\n  const remainder = modulo(scale, 3)\n\n  if (remainder < 1) {\n    return base\n  }\n  if (remainder < 2) {\n    return base * 2\n  }\n  return base * 5\n}\n\n/**\n * Calculates the scale to show the given value range with the given notch count.\n *\n * @param rangeSize The difference between the highest and the lowest value to show\n * @param maxNotchCount\n * @return The number as getSubDecimalScale returns\n */\nexport function getScaleToFitRange(rangeSize: number, maxNotchCount = 5): number {\n  return getSubDecimalScale(Math.max(1e-12, Math.abs(rangeSize / maxNotchCount)), true)\n}\n\n/**\n * Calculates the scale such way that the notches always stay in the same place unless the `notchCount` argument value\n * is changed.\n *\n * @param minValue The minimum value to fit on the scale\n * @param maxValue The maximum value to fit on the scale\n * @param notchCount The number of notches to render. May be fractional (will be aligned to the minimal value).\n */\nexport function getValueRangeForFixedNotches(minValue: number, maxValue: number, notchCount = 5): DecimalScaleState {\n  function getValueRange(notchScale: number) {\n    const notchValue = subDecimalScaleToNumber(notchScale)\n    const alignedMinValue = floorWithBase(minValue, notchValue)\n    const alignedMaxValue = alignedMinValue + notchValue * notchCount\n    return [alignedMinValue, alignedMaxValue]\n  }\n\n  let notchScale = getScaleToFitRange(maxValue - minValue, notchCount)\n  let [min, max] = getValueRange(notchScale)\n\n  if (max < maxValue) {\n    ;[min, max] = getValueRange(++notchScale)\n  }\n\n  return { min, max, notchScale }\n}\n\n/**\n * Calculates the scale such way that the lowest notch is always at the bottom.\n *\n * @see getValueRangeForFixedNotches for arguments and return value\n */\nexport function getValueRangeForFixedBottom(minValue: number, maxValue: number, maxNotchCount = 5): DecimalScaleState {\n  const { min, notchScale } = getValueRangeForFixedNotches(minValue, maxValue, maxNotchCount)\n  return { min, max: maxValue, notchScale }\n}\n\n/**\n * Returns a set of notches positions to display on a ruler (scale).\n * The `notchScale` value can be fractional.\n */\nexport function* listSubDecimalNotchesForRange(\n  minValue: number,\n  maxValue: number,\n  notchScale: number,\n): Generator<{ value: number; opacity: number }, void> {\n  const notch1Size = subDecimalScaleToNumber(Math.floor(notchScale))\n  const notch2Size = subDecimalScaleToNumber(Math.ceil(notchScale))\n  const transition = modulo(notchScale, 1)\n  const start1Notch = ceilWithBase(minValue, notch1Size)\n  const start2Notch = ceilWithBase(minValue, notch2Size)\n\n  for (let notch1 = start1Notch, notch2 = start2Notch; notch1 <= maxValue || notch2 <= maxValue; ) {\n    if (notch1 === notch2) {\n      yield { value: notch1, opacity: 1 }\n      notch1 = removeFloatArtifact(notch1 + notch1Size)\n      notch2 = removeFloatArtifact(notch2 + notch2Size)\n    } else if (notch1 < notch2) {\n      yield { value: notch1, opacity: 1 - transition }\n      notch1 = removeFloatArtifact(notch1 + notch1Size)\n    } else {\n      yield { value: notch2, opacity: transition }\n      notch2 = removeFloatArtifact(notch2 + notch2Size)\n    }\n  }\n}\n","import memoizeOne from 'memoize-one'\n// eslint-disable-next-line @typescript-eslint/no-var-requires\nconst shallowEqual = require('shallowequal')\n\nfunction subShallowEqualArrays(arr1: ArrayLike<unknown>, arr2: ArrayLike<unknown>) {\n  if (arr1.length !== arr2.length) {\n    return false\n  }\n\n  for (let i = 0; i < arr1.length; ++i) {\n    if (!shallowEqual(arr1[i], arr2[i])) {\n      return false\n    }\n  }\n\n  return true\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport default function memoizeObjectArguments<T extends (...args: any[]) => ReturnType<T>>(fn: T): T {\n  return memoizeOne(fn, subShallowEqualArrays)\n}\n","import { numberColorToRGBA } from '../../../utils/color'\n\nexport interface Options {\n  ctx: CanvasRenderingContext2D\n  values: ArrayLike<number>\n  fromX: number\n  toX: number\n  fromIndex: number\n  toIndex: number\n  fromY: number\n  toY: number\n  fromValue: number\n  toValue: number\n  drawFromX?: number\n  drawToX?: number\n  color: number\n  lineWidth: number\n  opacity?: number\n}\n\n/**\n * Makes an a chart line with linear interpolation. You need to specify the anchor rectangle so that the component knows\n * where to place the line. Use `drawFromX` and `drawToX` to set where to really start drawing.\n *\n * X and Y are the canvas coordinates, `values` are the data Ys and its indices are the Xs.\n *\n * @todo Skip come values for optimization\n */\nexport default function drawLine({\n  ctx,\n  values,\n  fromX,\n  toX,\n  fromIndex,\n  toIndex,\n  fromY,\n  toY,\n  fromValue,\n  toValue,\n  drawFromX = fromX,\n  drawToX = toX,\n  color,\n  lineWidth,\n  opacity = 1,\n}: Options): void {\n  if (opacity <= 0 || fromIndex === toIndex || fromValue === toValue) {\n    return\n  }\n\n  ctx.beginPath()\n  ctx.lineJoin = 'bevel'\n  ctx.lineCap = 'square'\n  ctx.lineWidth = lineWidth\n  ctx.strokeStyle = numberColorToRGBA(color, opacity)\n\n  const xPerIndex = (toX - fromX) / (toIndex - fromIndex)\n  const yPerValue = (toY - fromY) / (toValue - fromValue)\n  const xOffset = fromX - fromIndex * xPerIndex\n  const yOffset = fromY - fromValue * yPerValue\n  const realFromIndex = Math.floor(Math.max(0, fromIndex - (fromX - drawFromX + lineWidth / 2) / (xPerIndex || 1)))\n  const realToIndex = Math.ceil(\n    Math.min(values.length - 1, toIndex + (drawToX - toX + lineWidth / 2) / (xPerIndex || 1)),\n  )\n\n  for (let i = realFromIndex; i <= realToIndex; ++i) {\n    const x = xOffset + i * xPerIndex\n    const y = yOffset + values[i] * yPerValue\n\n    if (i === realFromIndex) {\n      ctx.moveTo(x, y)\n    } else {\n      ctx.lineTo(x, y)\n    }\n  }\n\n  ctx.stroke()\n}\n","import { LinesList } from '../types'\nimport drawLine, { Options as LineOption } from './line'\n\ninterface Options extends Omit<LineOption, 'values' | 'drawFromX' | 'drawToX' | 'color' | 'opacity'> {\n  linesData: LinesList\n  lineOpacities: readonly number[]\n  x: number\n  width: number\n}\n\nexport default function drawLinesGroup({ linesData, lineOpacities, x, width, ...options }: Options): void {\n  // Render the lines in backward order so that the first line is rendered on top\n  for (let key = linesData.length - 1; key >= 0; --key) {\n    drawLine({\n      ...options,\n      values: linesData[key].values,\n      drawFromX: x,\n      drawToX: x + width,\n      color: linesData[key].color,\n      opacity: lineOpacities[key],\n    })\n  }\n}\n","import memoizeOne from 'memoize-one'\n\ntype Side = 'top' | 'right' | 'bottom' | 'left'\n\nexport default function makeFade(\n  ctx: CanvasRenderingContext2D,\n  side: Side,\n): (x: number, y: number, width: number, height: number) => void {\n  const getGradient = memoizeOne((x: number, y: number, width: number, height: number) => {\n    let position: [number, number, number, number]\n    switch (side) {\n      case 'top':\n        position = [0, y, 0, y + height]\n        break\n      case 'right':\n        position = [x + width, 0, x, 0]\n        break\n      case 'bottom':\n        position = [0, y + height, 0, y]\n        break\n      case 'left':\n        position = [x, 0, x + width, 0]\n        break\n    }\n    const gradient = ctx.createLinearGradient(...position)\n    gradient.addColorStop(0, 'rgba(0,0,0,0)')\n    gradient.addColorStop(1, 'rgba(0,0,0,1)')\n    return gradient\n  })\n\n  return (x, y, width, height) => {\n    ctx.save()\n    ctx.beginPath()\n    ctx.rect(x, y, width, height)\n    ctx.clip()\n    ctx.globalCompositeOperation = 'destination-in'\n    ctx.fillStyle = getGradient(x, y, width, height)\n    ctx.fill()\n    ctx.restore()\n  }\n}\n","import memoizeObjectArguments from '../../../utils/memoize_object_arguments'\nimport { chartSidePadding, chartMainLinesTopMargin, chartMainFadeHeight, chartMainLineWidth } from '../../style'\nimport { LinesList } from '../types'\nimport drawLinesGroup from './lines_group'\nimport drawValueScale from './value_scale'\nimport makeFade from './fade'\nimport drawColumnPointerLine from './column_pointer_line'\nimport drawColumnPointerCircles from './column_pointer_circles'\n\ninterface Options {\n  linesData: LinesList\n  x: number\n  y: number\n  width: number\n  height: number\n  pixelRatio: number\n  minValue: number\n  maxValue: number\n  valueNotchScale: number\n  startIndex: number\n  endIndex: number\n  detailsIndex: number\n  detailsOpacity: number\n  _?: unknown\n}\n\nexport default function makeChartMainWithoutX(\n  ctx: CanvasRenderingContext2D,\n): (options: Options, lineOpacities: readonly number[]) => void {\n  const drawTopFade = makeFade(ctx, 'top')\n  const drawLeftFade = makeFade(ctx, 'left')\n  const drawRightFade = makeFade(ctx, 'right')\n\n  return memoizeObjectArguments(\n    (\n      {\n        linesData,\n        x,\n        y,\n        width,\n        height,\n        pixelRatio,\n        minValue,\n        maxValue,\n        valueNotchScale,\n        startIndex,\n        endIndex,\n        detailsIndex,\n        detailsOpacity,\n      },\n      lineOpacities,\n    ) => {\n      const mainLinesX = x + chartSidePadding * pixelRatio\n      const mainLinesY = y + chartMainLinesTopMargin * pixelRatio\n      const mainLinesWidth = width - chartSidePadding * pixelRatio * 2\n      const mainLinesHeight = height - chartMainLinesTopMargin * pixelRatio\n\n      ctx.save()\n      ctx.clearRect(x, y, width, height)\n      ctx.beginPath()\n      ctx.rect(x, y, width, height)\n      ctx.clip()\n\n      const commonArguments = {\n        ctx,\n        pixelRatio,\n      }\n\n      drawLinesGroup({\n        ctx,\n        linesData,\n        lineOpacities,\n        x,\n        width,\n        fromX: mainLinesX,\n        toX: mainLinesX + mainLinesWidth,\n        fromIndex: startIndex,\n        toIndex: endIndex,\n        fromY: mainLinesY + mainLinesHeight,\n        toY: mainLinesY,\n        fromValue: minValue,\n        toValue: maxValue,\n        lineWidth: chartMainLineWidth * pixelRatio,\n      })\n\n      drawValueScale({\n        ...commonArguments,\n        x: mainLinesX,\n        y,\n        width: mainLinesWidth,\n        height,\n        topPadding: mainLinesY - y,\n        fromValue: minValue,\n        toValue: maxValue,\n        notchScale: valueNotchScale,\n      })\n\n      drawTopFade(x, y, width, chartMainFadeHeight * pixelRatio)\n      drawLeftFade(x, y, x + width - mainLinesX - mainLinesWidth, height)\n      drawRightFade(mainLinesX + mainLinesWidth, y, x + width - mainLinesX - mainLinesWidth, height)\n\n      ctx.restore()\n\n      // The details pointer\n      if (detailsOpacity > 0) {\n        const detailsX = mainLinesX + (mainLinesWidth * (detailsIndex - startIndex)) / (endIndex - startIndex)\n\n        drawColumnPointerLine({\n          ...commonArguments,\n          x: detailsX,\n          y: mainLinesY,\n          height: mainLinesHeight,\n          opacity: detailsOpacity,\n          drawFromX: x,\n          drawToX: x + width,\n        })\n\n        drawColumnPointerCircles({\n          ...commonArguments,\n          linesData,\n          lineOpacities,\n          x: detailsX,\n          y: mainLinesY,\n          height: mainLinesHeight,\n          index: detailsIndex,\n          opacity: detailsOpacity,\n          fromValue: minValue,\n          toValue: maxValue,\n          drawFromX: x,\n          drawToX: x + width,\n        })\n      }\n    },\n  )\n}\n","import { formatNumberToShortForm } from '../../../utils/number'\nimport { numberColorToRGBA } from '../../../utils/color'\nimport { listSubDecimalNotchesForRange } from '../../../utils/scale'\nimport {\n  getFontFamily,\n  getBackgroundColor,\n  chartScaleLineColor,\n  chartScaleLineOpacity,\n  chartScaleLineWidth,\n  chartScaleLabelColor,\n  chartScaleLabelFontSize,\n  chartValueScaleLabelMargin,\n  chartScaleLabelUnderlayOpacity,\n  chartScaleLabelUnderlayPadding,\n} from '../../style'\n\ninterface Options {\n  ctx: CanvasRenderingContext2D\n  x: number\n  y: number\n  width: number\n  height: number\n  fromValue: number\n  toValue: number\n  /** See the `getSubDecimalScale` function. It can be fractional, in this case a transitional state is rendered. */\n  notchScale: number\n  topPadding?: number\n  pixelRatio: number\n  drawLines?: boolean\n  labelColor?: number\n  labelOpacity?: number\n  labelOnRight?: boolean\n}\n\nexport default function drawValueScale({\n  ctx,\n  x,\n  y,\n  width,\n  height,\n  fromValue,\n  toValue,\n  notchScale,\n  topPadding = 0,\n  pixelRatio,\n  drawLines = true,\n  labelColor = chartScaleLabelColor,\n  labelOpacity = 1,\n  labelOnRight,\n}: Options): void {\n  if (isNaN(fromValue) || isNaN(toValue) || !isFinite(fromValue) || !isFinite(toValue) || height === topPadding) {\n    return\n  }\n\n  if (!drawLines && labelOpacity <= 0) {\n    return\n  }\n\n  const lineWidth = chartScaleLineWidth * pixelRatio\n  const fontSize = Math.round(chartScaleLabelFontSize * pixelRatio)\n  const backgroundColor = getBackgroundColor()\n  const labelOffset = chartValueScaleLabelMargin * pixelRatio\n  const labelBottomExtraSpace = fontSize + labelOffset\n  const labelX = x + (labelOnRight ? width : 0)\n  const labelUnderlayPadding = chartScaleLabelUnderlayPadding * pixelRatio\n  const labelUnderlayHeight = fontSize + labelUnderlayPadding * 2\n\n  const yPerValue = (height - topPadding) / (toValue - fromValue || 1)\n  const realFromValue = fromValue - (yPerValue === 0 ? 0 : labelBottomExtraSpace / yPerValue)\n  const realToValue = toValue + (yPerValue === 0 ? 0 : topPadding / yPerValue)\n\n  ctx.font = `${fontSize}px/1 ${getFontFamily()}`\n  ctx.textBaseline = 'bottom'\n  ctx.textAlign = labelOnRight ? 'right' : 'left'\n\n  if (drawLines) {\n    ctx.fillStyle = numberColorToRGBA(chartScaleLineColor, chartScaleLineOpacity)\n    ctx.fillRect(x, y + height - lineWidth, width, lineWidth)\n  }\n\n  const notchGenerator = listSubDecimalNotchesForRange(realFromValue, realToValue, notchScale)\n  for (;;) {\n    const iteration = notchGenerator.next()\n    if (iteration.done) {\n      break\n    }\n\n    const { value, opacity } = iteration.value\n    const notchY = Math.round(y + height - (value - fromValue) * yPerValue)\n\n    if (drawLines && notchY < y + height) {\n      ctx.fillStyle = numberColorToRGBA(chartScaleLineColor, chartScaleLineOpacity * opacity)\n      ctx.fillRect(x, notchY - lineWidth, width, lineWidth)\n    }\n\n    if (labelOpacity > 0 && notchY > y + labelOffset) {\n      const text = formatNumberToShortForm(value)\n\n      // Underlay for better number visibility\n      if (chartScaleLabelUnderlayOpacity > 0) {\n        const width = Math.round(ctx.measureText(text).width) + labelUnderlayPadding * 2\n        ctx.fillStyle = numberColorToRGBA(backgroundColor, chartScaleLabelUnderlayOpacity * labelOpacity * opacity)\n        ctx.fillRect(\n          labelX - (labelOnRight ? width - labelUnderlayPadding : labelUnderlayPadding),\n          notchY - labelOffset + labelUnderlayPadding - labelUnderlayHeight,\n          width,\n          labelUnderlayHeight,\n        )\n      }\n\n      ctx.fillStyle = numberColorToRGBA(labelColor, labelOpacity * opacity)\n      ctx.fillText(text, labelX, notchY - labelOffset)\n    }\n  }\n}\n","import { numberColorToRGBA } from '../../../utils/color'\nimport { chartScaleLineColor, chartScaleLineOpacity, chartScaleLineWidth } from '../../style'\n\ninterface Options {\n  ctx: CanvasRenderingContext2D\n  pixelRatio: number\n  x: number\n  y: number\n  height: number\n  opacity: number\n  drawFromX?: number\n  drawToX?: number\n}\n\nexport default function drawColumnPointerLine({\n  ctx,\n  pixelRatio,\n  x,\n  y,\n  height,\n  opacity,\n  drawFromX = -Infinity,\n  drawToX = Infinity,\n}: Options): void {\n  if (opacity <= 0) {\n    return\n  }\n\n  const lineWidth = chartScaleLineWidth * pixelRatio\n  const lineX = Math.round(x - lineWidth / 2)\n\n  if (lineX + lineWidth <= drawFromX || lineX >= drawToX) {\n    return\n  }\n\n  ctx.fillStyle = numberColorToRGBA(chartScaleLineColor, chartScaleLineOpacity * opacity)\n  ctx.fillRect(lineX, y, lineWidth, height)\n}\n","import { numberColorToRGBA } from '../../../utils/color'\nimport { interpolateLinear } from '../../../utils/data'\nimport { chartLinePointerRadius, chartMainLineWidth, getBackgroundColor } from '../../style'\nimport { LinesList } from '../types'\n\ninterface Options {\n  ctx: CanvasRenderingContext2D\n  pixelRatio: number\n  linesData: LinesList\n  lineOpacities: readonly number[]\n  x: number\n  y: number\n  height: number\n  /** May be fractional */\n  index: number\n  opacity: number\n  fromY?: number\n  toY?: number\n  fromValue: number\n  toValue: number\n  drawFromX?: number\n  drawToX?: number\n}\n\nexport default function drawLinesPointer({\n  ctx,\n  pixelRatio,\n  linesData,\n  lineOpacities,\n  x,\n  y,\n  height,\n  index,\n  opacity,\n  fromY = y + height,\n  toY = y,\n  fromValue,\n  toValue,\n  drawFromX = -Infinity,\n  drawToX = Infinity,\n}: Options): void {\n  if (opacity <= 0 || fromValue === toValue) {\n    return\n  }\n\n  const pointRadius = chartLinePointerRadius * pixelRatio\n  const borderWidth = chartMainLineWidth * pixelRatio\n\n  x = Math.round(x)\n  // eslint-disable-next-line prettier/prettier\n  if (\n    x + pointRadius + borderWidth / 2 <= drawFromX ||\n    x - pointRadius - borderWidth / 2 >= drawToX\n  ) {\n    return\n  }\n\n  const yPerValue = (toY - fromY) / (toValue - fromValue)\n  const pointBackgroundColor = getBackgroundColor()\n  ctx.lineWidth = borderWidth\n\n  // Render the lines in backward order so that the first line is rendered on top\n  for (let key = linesData.length - 1; key >= 0; --key) {\n    const value = interpolateLinear(linesData[key].values, index)\n    if (value === undefined) {\n      continue // Can happen when one line is longer than another\n    }\n\n    const y = fromY + (value - fromValue) * yPerValue\n    const scale = 0.3 + opacity * 0.7\n\n    ctx.fillStyle = numberColorToRGBA(pointBackgroundColor, lineOpacities[key] * opacity)\n    ctx.strokeStyle = numberColorToRGBA(linesData[key].color, lineOpacities[key] * opacity)\n    ctx.beginPath()\n    ctx.arc(x, y, pointRadius * scale, 0, Math.PI * 2)\n    ctx.fill()\n    ctx.stroke()\n  }\n}\n","export function roundedRectanglePath(\n  ctx: CanvasRenderingContext2D,\n  x: number,\n  y: number,\n  width: number,\n  height: number,\n  borderRadius: number | [top: number, right: number, bottom: number, left: number],\n): void {\n  let topLeftRadius: number, topRightRadius: number, bottomRightRadius: number, bottomLeftRadius: number\n\n  if (borderRadius instanceof Array) {\n    ;[topLeftRadius, topRightRadius, bottomRightRadius, bottomLeftRadius] = borderRadius\n  } else {\n    topLeftRadius = topRightRadius = bottomRightRadius = bottomLeftRadius = borderRadius\n  }\n\n  ctx.moveTo(x, y + height - bottomLeftRadius)\n  ctx.arcTo(x, y, x + topLeftRadius, y, topLeftRadius)\n  ctx.arcTo(x + width, y, x + width, y + topRightRadius, topRightRadius)\n  ctx.arcTo(x + width, y + height, x + width - bottomRightRadius, y + height, bottomRightRadius)\n  ctx.arcTo(x, y + height, x, y + height - bottomLeftRadius, bottomLeftRadius)\n}\n","import { numberColorToRGBA } from '../../../utils/color'\nimport { roundedRectanglePath } from '../../../utils/canvas'\nimport {\n  chartMapCornerRadius,\n  chartSelectorBorderCornerRadius,\n  chartSelectorOutsideColor,\n  chartSelectorOutsideOpacity,\n  chartSelectorBorderColor,\n  chartSelectorNotchColor,\n  chartSelectorGripWidth,\n  chartSelectorVerticalPadding,\n  chartSelectorNotchWidth,\n  chartSelectorNotchHeight,\n  chartSelectorNotchCornerRadius,\n} from '../../style'\n\ninterface Options {\n  ctx: CanvasRenderingContext2D\n  x: number\n  y: number\n  width: number\n  height: number\n  from: number\n  to: number\n  pixelRatio: number\n}\n\nexport default function drawMapSelector({ ctx, x, y, width, height, from, to, pixelRatio }: Options): void {\n  const sideBorderWidth = chartSelectorGripWidth * pixelRatio\n  const outsideCornerRadius = chartMapCornerRadius * pixelRatio\n  const verticalPadding = chartSelectorVerticalPadding * pixelRatio\n\n  const leftOffset = Math.round(from * width) - sideBorderWidth\n  const rightOffset = Math.round(to * width) + sideBorderWidth\n  const notchColor = numberColorToRGBA(chartSelectorNotchColor)\n\n  ctx.beginPath()\n  ctx.fillStyle = numberColorToRGBA(chartSelectorOutsideColor, chartSelectorOutsideOpacity)\n  roundedRectanglePath(ctx, x, y, width, height, outsideCornerRadius)\n  ctx.fill()\n\n  ctx.beginPath()\n  ctx.fillStyle = numberColorToRGBA(chartSelectorBorderColor)\n  roundedRectanglePath(\n    ctx,\n    x + leftOffset,\n    y + verticalPadding,\n    rightOffset - leftOffset,\n    height - verticalPadding * 2,\n    chartSelectorBorderCornerRadius * pixelRatio,\n  )\n  ctx.fill()\n\n  drawNotch(ctx, x + leftOffset + sideBorderWidth / 2, y + height / 2, notchColor, pixelRatio)\n  drawNotch(ctx, x + rightOffset - sideBorderWidth / 2, y + height / 2, notchColor, pixelRatio)\n\n  ctx.clearRect(x + leftOffset + sideBorderWidth, y, rightOffset - leftOffset - sideBorderWidth * 2, height)\n}\n\nfunction drawNotch(\n  ctx: CanvasRenderingContext2D,\n  centerX: number,\n  centerY: number,\n  cssColor: string,\n  pixelRatio: number,\n) {\n  const width = chartSelectorNotchWidth * pixelRatio\n  const height = chartSelectorNotchHeight * pixelRatio\n  const radius = chartSelectorNotchCornerRadius * pixelRatio\n\n  ctx.beginPath()\n  ctx.fillStyle = cssColor\n  roundedRectanglePath(ctx, centerX - width / 2, centerY - height / 2, width, height, radius)\n  ctx.fill()\n}\n","import memoizeObjectArguments from '../../../utils/memoize_object_arguments'\nimport { chartSidePadding, chartIndexScaleLabelMargin, chartMapHeight, chartMapBottom } from '../../style'\nimport drawIndexScale from './index_scale'\nimport drawMapSelector from './map_selector'\nimport makeFade from './fade'\n\ninterface Options {\n  x: number\n  y: number\n  width: number\n  height: number\n  pixelRatio: number\n  minIndex: number\n  maxIndex: number\n  startIndex: number\n  endIndex: number\n  indexNotchScale: number\n  indexNameOffset: number\n  _: unknown\n}\n\nexport default function makeChartX(ctx: CanvasRenderingContext2D): (options: Options) => void {\n  const drawLeftFade = makeFade(ctx, 'left')\n  const drawRightFade = makeFade(ctx, 'right')\n\n  return memoizeObjectArguments(\n    ({\n      x,\n      y,\n      width,\n      height,\n      pixelRatio,\n      minIndex,\n      maxIndex,\n      startIndex,\n      endIndex,\n      indexNotchScale,\n      indexNameOffset,\n    }) => {\n      ctx.clearRect(x, y, width, height)\n\n      drawIndexScale({\n        ctx,\n        x: x,\n        y: y + chartIndexScaleLabelMargin * pixelRatio,\n        width: width,\n        fromX: x + chartSidePadding * pixelRatio,\n        toX: x + width - chartSidePadding * pixelRatio,\n        fromIndex: startIndex,\n        toIndex: endIndex,\n        notchScale: indexNotchScale,\n        pixelRatio,\n        indexNameOffset,\n      })\n\n      drawLeftFade(x, y, chartSidePadding * pixelRatio, height)\n      drawRightFade(x + width - chartSidePadding * pixelRatio, y, chartSidePadding * pixelRatio, height)\n\n      if (minIndex !== maxIndex) {\n        drawMapSelector({\n          ctx,\n          x: x + chartSidePadding * pixelRatio,\n          y: y + height - (chartMapHeight + chartMapBottom) * pixelRatio,\n          width: width - chartSidePadding * pixelRatio * 2,\n          height: chartMapHeight * pixelRatio,\n          from: (startIndex - minIndex) / (maxIndex - minIndex),\n          to: (endIndex - minIndex) / (maxIndex - minIndex),\n          pixelRatio,\n        })\n      }\n    },\n  )\n}\n","import { numberColorToRGBA } from '../../../utils/color'\nimport { listSubDecimalNotchesForRange } from '../../../utils/scale'\nimport { formatNumberWithThousandGroups } from '../../../utils/number'\nimport {\n  chartScaleLabelColor,\n  chartScaleLabelFontSize,\n  chartValueScaleMinSpaceForNotch,\n  getFontFamily,\n} from '../../style'\n\ninterface Options {\n  ctx: CanvasRenderingContext2D\n  x: number\n  y: number\n  width: number\n  pixelRatio: number\n  fromX: number\n  toX: number\n  fromIndex: number\n  toIndex: number\n  /** See the `getSubDecimalScale` function. It can be fractional, in this case a transitional state is rendered. */\n  notchScale: number\n  indexNameOffset: number\n}\n\nexport default function drawDateScale({\n  ctx,\n  x,\n  y,\n  width,\n  pixelRatio,\n  fromX,\n  toX,\n  fromIndex,\n  toIndex,\n  notchScale,\n  indexNameOffset,\n}: Options): void {\n  if (fromIndex === toIndex) {\n    return\n  }\n\n  const approximateLabelMaxWidth = chartValueScaleMinSpaceForNotch * 0.9\n\n  ctx.font = `${Math.round(chartScaleLabelFontSize * pixelRatio)}px/1 ${getFontFamily()}`\n  ctx.textBaseline = 'top'\n  ctx.textAlign = 'center'\n\n  const realFromX = x - approximateLabelMaxWidth / 2\n  const realToX = x + width + approximateLabelMaxWidth / 2\n  const xPerIndex = (toX - fromX) / (toIndex - fromIndex || 1)\n  const realFromIndex = fromIndex - (xPerIndex === 0 ? 0 : (fromX - realFromX) / xPerIndex)\n  const realToIndex = toIndex + (xPerIndex === 0 ? 0 : (realToX - toX) / xPerIndex)\n\n  const notchGenerator = listSubDecimalNotchesForRange(\n    realFromIndex + indexNameOffset, // Make the notches align to visible numbers, not to real indices\n    realToIndex + indexNameOffset,\n    notchScale,\n  )\n  for (;;) {\n    const iteration = notchGenerator.next()\n    if (iteration.done) {\n      break\n    }\n\n    const { value, opacity } = iteration.value\n    const index = value - indexNameOffset\n    const x = fromX + (index - fromIndex) * xPerIndex\n\n    ctx.fillStyle = numberColorToRGBA(chartScaleLabelColor, opacity)\n    ctx.fillText(formatNumberWithThousandGroups(value), Math.round(x), y)\n  }\n}\n","import { numberColorToRGBA } from '../../../utils/color'\nimport { roundedRectanglePath } from '../../../utils/canvas'\nimport { formatNumberWithThousandGroups } from '../../../utils/number'\nimport { interpolateLinear } from '../../../utils/data'\nimport {\n  getFontFamily,\n  getTextColor,\n  chartDetailsPopupSidePadding,\n  chartDetailsPopupCornerRadius,\n  chartDetailsPopupHeaderFontSize,\n  chartDetailsPopupHeaderFontWeight,\n  chartDetailsPopupHeaderBaselineY,\n  chartDetailsPopupFirstRowBaselineY,\n  chartDetailsPopupRowHeight,\n  chartDetailsPopupBottomPadding,\n  chartDetailsPopupFontSize,\n  chartDetailsPopupFontWeight,\n  chartDetailsPopupValueFontWeight,\n  chartDetailsPopupBackgroundColor,\n  chartDetailsPopupShadowColor,\n  chartDetailsPopupShadowOpacity,\n  chartDetailsPopupShadowXOffset,\n  chartDetailsPopupShadowYOffset,\n  chartDetailsPopupShadowBlur,\n  chartDetailsPopupMissingValueText,\n  chartDetailsPopupHeaderFontPrefix,\n} from '../../style'\nimport { Line, LinesList } from '../types'\nimport drawRotatingDisplay from './rotating_display'\n\ninterface Options {\n  ctx: CanvasRenderingContext2D\n  linesData: LinesList\n  lineOpacities: readonly number[]\n  pixelRatio: number\n  index: number\n  opacity: number\n  x: number\n  y: number\n  width: number\n  indexNameOffset: number\n  valuePrecision: number | null\n}\n\n/**\n * `day` are set in number of days since the start of the Unix era\n * `month` are set in number of full months since 0 AC (e.g. April 2019 is 24231)\n * `year` are just year numbers\n * The `getDateComponentsForRange` function returns date components in these formats.\n * All the date numbers may be fractional.\n */\nexport default function drawDetailsPopup({\n  ctx,\n  linesData,\n  lineOpacities,\n  pixelRatio,\n  index,\n  opacity,\n  x,\n  y,\n  width: cssWidth,\n  indexNameOffset,\n  valuePrecision,\n}: Options): void {\n  if (opacity === 0) {\n    return\n  }\n\n  const width = cssWidth * pixelRatio\n  const height =\n    (chartDetailsPopupFirstRowBaselineY +\n      (getLineRowsAmount(linesData, lineOpacities) - 1) * chartDetailsPopupRowHeight +\n      chartDetailsPopupBottomPadding) *\n    pixelRatio\n  const sidePadding = chartDetailsPopupSidePadding * pixelRatio\n  const textColor = getTextColor()\n  const fontFamily = getFontFamily()\n\n  drawBackground(ctx, pixelRatio, opacity, x, y, width, height)\n  drawHeader(\n    ctx,\n    pixelRatio,\n    fontFamily,\n    textColor,\n    index,\n    opacity,\n    x + sidePadding,\n    y + chartDetailsPopupHeaderBaselineY * pixelRatio,\n    indexNameOffset,\n  )\n\n  let rowY = y + chartDetailsPopupFirstRowBaselineY * pixelRatio\n  for (let key = 0; key < linesData.length; ++key) {\n    const rowOpacity = lineOpacities[key]\n\n    if (rowOpacity > 0) {\n      drawRow(\n        ctx,\n        linesData[key],\n        index,\n        x + sidePadding,\n        rowY,\n        width - sidePadding * 2,\n        textColor,\n        fontFamily,\n        valuePrecision,\n        opacity * rowOpacity,\n        pixelRatio,\n      )\n      rowY += chartDetailsPopupRowHeight * pixelRatio * rowOpacity\n    }\n  }\n}\n\nfunction drawBackground(\n  ctx: CanvasRenderingContext2D,\n  pixelRatio: number,\n  opacity: number,\n  x: number,\n  y: number,\n  width: number,\n  height: number,\n) {\n  // It's much faster than drawing the real shadow\n  if (chartDetailsPopupShadowOpacity > 0) {\n    const quality = 1 // The less the better and slower. It makes no sense to make it higher than the pixelRatio value.\n    const stepsCount = chartDetailsPopupShadowBlur / quality\n    const stepOpacity = 1 - (1 - (chartDetailsPopupShadowOpacity * opacity) / 2) ** (1 / stepsCount)\n\n    ctx.fillStyle = numberColorToRGBA(chartDetailsPopupShadowColor, stepOpacity)\n\n    for (let i = 0; i < stepsCount; ++i) {\n      const stepOffset = ((i + 1) / stepsCount) * chartDetailsPopupShadowBlur * pixelRatio\n\n      ctx.beginPath()\n      roundedRectanglePath(\n        ctx,\n        x - stepOffset + chartDetailsPopupShadowXOffset * pixelRatio,\n        y - stepOffset + chartDetailsPopupShadowYOffset * pixelRatio,\n        width + stepOffset * 2,\n        height + stepOffset * 2,\n        stepOffset + chartDetailsPopupCornerRadius * pixelRatio,\n      )\n      ctx.fill()\n    }\n  }\n\n  ctx.fillStyle = numberColorToRGBA(chartDetailsPopupBackgroundColor, opacity)\n  ctx.beginPath()\n  roundedRectanglePath(ctx, x, y, width, height, chartDetailsPopupCornerRadius * pixelRatio)\n  ctx.fill()\n}\n\nfunction drawHeader(\n  ctx: CanvasRenderingContext2D,\n  pixelRatio: number,\n  fontFamily: string,\n  textColor: number,\n  index: number,\n  opacity: number,\n  x: number,\n  y: number,\n  indexNameOffset: number,\n) {\n  const fontSize = chartDetailsPopupHeaderFontSize * pixelRatio\n  const baseline = 'alphabetic'\n  let leftPosition = x\n\n  ctx.textBaseline = baseline\n  ctx.textAlign = 'left'\n  ctx.font = `${\n    (chartDetailsPopupHeaderFontWeight as string) === 'regular' ? '' : chartDetailsPopupHeaderFontWeight\n  } ${fontSize}px ${fontFamily}`\n  ctx.fillStyle = numberColorToRGBA(textColor, opacity)\n  ctx.fillText(chartDetailsPopupHeaderFontPrefix, leftPosition, y)\n  leftPosition += ctx.measureText(chartDetailsPopupHeaderFontPrefix).width\n\n  drawRotatingDisplay({\n    ctx,\n    x: leftPosition,\n    y,\n    containerAlign: 'left',\n    baseline,\n    fontFamily,\n    fontSize,\n    fontWeight: chartDetailsPopupHeaderFontWeight,\n    topAlign: 0.1,\n    bottomAlign: 0,\n    color: textColor,\n    opacity,\n    position: index,\n    getItemText: (index) => formatNumberWithThousandGroups(index + indexNameOffset),\n  })\n}\n\nfunction drawRow(\n  ctx: CanvasRenderingContext2D,\n  { name, color, values }: Readonly<Line>,\n  index: number,\n  x: number,\n  y: number,\n  width: number,\n  textColor: number,\n  fontFamily: string,\n  valuePrecision: number | null,\n  opacity: number,\n  pixelRatio: number,\n) {\n  const fontSize = chartDetailsPopupFontSize * pixelRatio\n  const transitionalValue = interpolateLinear(values, index)\n\n  ctx.textBaseline = 'alphabetic'\n  ctx.textAlign = 'left'\n  ctx.font = `${\n    chartDetailsPopupFontWeight === 'regular' ? '' : chartDetailsPopupFontWeight\n  } ${fontSize}px ${fontFamily}`\n  ctx.fillStyle = numberColorToRGBA(textColor, opacity)\n  ctx.fillText(name, x, y)\n\n  ctx.textAlign = 'right'\n  ctx.font = `${\n    chartDetailsPopupValueFontWeight === 'regular' ? '' : chartDetailsPopupValueFontWeight\n  } ${fontSize}px ${fontFamily}`\n  ctx.fillStyle = numberColorToRGBA(color, opacity)\n  ctx.fillText(\n    transitionalValue === undefined\n      ? chartDetailsPopupMissingValueText\n      : formatNumberWithThousandGroups(transitionalValue, valuePrecision),\n    x + width,\n    y,\n  )\n}\n\nfunction getLineRowsAmount(linesData: LinesList, lineOpacities: readonly number[]) {\n  let amount = 0\n\n  for (let key = 0; key < linesData.length; ++key) {\n    amount += lineOpacities[key]\n  }\n\n  return amount\n}\n","import { numberColorToRGBA } from '../../../utils/color'\n\ninterface Options {\n  ctx: CanvasRenderingContext2D\n  x: number\n  y: number\n  /** The current display state (it rotates while the position increases) */\n  position: number\n  getItemText?: (position: number) => string\n  containerAlign?: CanvasTextAlign\n  baseline?: CanvasTextBaseline\n  fontSize?: number\n  fontWeight?: string\n  fontFamily?: string\n  lineHeight?: number\n  topAlign?: number\n  bottomAlign?: number\n  color?: number\n  opacity?: number\n}\n\nconst edgeScale = 0.5\nconst edgeYRelativeOffset = 0.7\n\n/**\n * Returns the width of the container\n */\nexport default function drawRotatingDisplay({\n  ctx,\n  x,\n  y,\n  position,\n  getItemText = String,\n  containerAlign = 'left',\n  baseline = 'alphabetic',\n  fontSize = 10,\n  fontWeight = 'regular',\n  fontFamily = '',\n  lineHeight = 1,\n  topAlign = 0.5,\n  bottomAlign = 0.5,\n  color = 0x000000,\n  opacity = 1,\n}: Options): number {\n  const itemIndices = [Math.floor(position), Math.floor(position) + 1]\n  let averageWidth = 0\n\n  const fontStringBeforeSize = `${fontWeight === 'regular' ? '' : fontWeight} `\n  const fontStringAfterSize = `px/${lineHeight} ${fontFamily}`\n\n  ctx.textBaseline = baseline\n  ctx.textAlign = containerAlign\n\n  for (const itemIndex of itemIndices) {\n    const distanceToCenter = Math.abs(itemIndex - position)\n\n    if (distanceToCenter >= 1) {\n      break\n    }\n\n    // Measure the text width\n    const itemText = getItemText(itemIndex)\n    ctx.font = fontStringBeforeSize + Math.round(fontSize) + fontStringAfterSize\n    const itemWidth = ctx.measureText(itemText).width\n    averageWidth += itemWidth * (1 - distanceToCenter)\n\n    const scale = 1 - distanceToCenter * (1 - edgeScale)\n    const freeSpaceWidth = (1 - scale) * itemWidth\n    const align = itemIndex > position ? bottomAlign : topAlign\n    let alignShift = 0\n\n    switch (containerAlign) {\n      case 'left':\n        alignShift = align\n        break\n      case 'right':\n        alignShift = align - 1\n        break\n      case 'center':\n        alignShift = align - 0.5\n        break\n    }\n\n    const itemX = x + freeSpaceWidth * alignShift\n    const itemY = y + (itemIndex - position) * fontSize * lineHeight * edgeYRelativeOffset\n\n    // Draw the text\n    // The text is drawn MUCH faster when the font size is integer\n    ctx.font = fontStringBeforeSize + Math.round(fontSize * scale) + fontStringAfterSize\n    ctx.fillStyle = numberColorToRGBA(color, opacity * (1 - distanceToCenter))\n    ctx.fillText(itemText, Math.round(itemX), Math.round(itemY))\n  }\n\n  return averageWidth\n}\n","import memoizeOne from 'memoize-one'\nimport {\n  chartMainLinesBottomMargin,\n  chartMapHeight,\n  chartMapBottom,\n  chartMainTopMargin,\n  chartSidePadding,\n  chartDetailsPopupY,\n  chartDetailsPopupXMargin,\n  chartDetailsPopupMinDistanceToEdge,\n} from '../../style'\nimport { LinesList } from '../types'\nimport makeChartMainWithoutX from './chart_main_without_x'\nimport makeChartX from './chart_x'\nimport makeChartMap from './chart_map'\nimport drawDetailsPopup from './details_popup'\n\ninterface Options {\n  linesData: LinesList\n  indexNameOffset: number\n  mainCanvasWidth: number\n  mainCanvasHeight: number\n  mapCanvasWidth: number\n  mapCanvasHeight: number\n  pixelRatio: number\n  minIndex: number\n  maxIndex: number\n  mapMinValue: number\n  mapMaxValue: number\n  mainMinValue: number\n  mainMaxValue: number\n  mainValueNotchScale: number\n  indexNotchScale: number\n  startIndex: number\n  endIndex: number\n  detailsIndex: number\n  /** 0 - to the left of the pointer, 1 - to the right */\n  detailsAlign: number\n  detailsOpacity: number\n  detailsPopupWidth: number\n  detailsPopupValuePrecision: number | null\n}\n\nexport default function makeChart(\n  mainCanvas: HTMLCanvasElement,\n  mapCanvas: HTMLCanvasElement,\n): (options: Options, lineOpacities: readonly number[], detailsLineOpacities: readonly number[]) => void {\n  const mainCtx = mainCanvas.getContext('2d')\n  const mapCtx = mapCanvas.getContext('2d')\n\n  if (!mainCtx || !mapCtx) {\n    throw new Error('Canvas 2d context unavailable')\n  }\n\n  const updateMainCanvasSize = memoizeOne((width, height) => {\n    mainCanvas.width = width\n    mainCanvas.height = height\n    ++forceRedrawMainCanvas\n  })\n\n  const updateMapCanvasSize = memoizeOne((width, height) => {\n    mapCanvas.width = width\n    mapCanvas.height = height\n  })\n\n  // The parts of the chart that can be updated independently\n  const drawChartMainWithoutX = makeChartMainWithoutX(mainCtx)\n  const drawChartX = makeChartX(mainCtx)\n  const drawChartMap = makeChartMap(mapCtx)\n\n  let wasDetailsPopupDrawn = false\n  let forceRedrawMainCanvas = 0\n\n  return (\n    {\n      linesData,\n      indexNameOffset,\n      mainCanvasWidth,\n      mainCanvasHeight,\n      mapCanvasWidth,\n      mapCanvasHeight,\n      pixelRatio,\n      minIndex,\n      maxIndex,\n      mapMinValue,\n      mapMaxValue,\n      mainMinValue,\n      mainMaxValue,\n      mainValueNotchScale,\n      indexNotchScale,\n      startIndex,\n      endIndex,\n      detailsIndex,\n      detailsAlign,\n      detailsOpacity,\n      detailsPopupWidth,\n      detailsPopupValuePrecision,\n    },\n    lineOpacities,\n    detailsLineOpacities,\n  ) => {\n    const mainSectionY = chartMainTopMargin * pixelRatio\n    const mainSectionHeight =\n      mainCanvasHeight - (chartMainLinesBottomMargin + chartMapHeight + chartMapBottom) * pixelRatio - mainSectionY\n    const doDrawDetailsPopup = detailsOpacity > 0 && detailsIndex !== null\n\n    updateMainCanvasSize(mainCanvasWidth, mainCanvasHeight)\n    updateMapCanvasSize(mapCanvasWidth, mapCanvasHeight)\n\n    if (doDrawDetailsPopup) {\n      mainCtx.clearRect(0, 0, mainCanvasWidth, mainCanvasHeight)\n      forceRedrawMainCanvas++\n      wasDetailsPopupDrawn = true\n    } else if (wasDetailsPopupDrawn) {\n      forceRedrawMainCanvas++\n      wasDetailsPopupDrawn = false\n    }\n\n    drawChartMainWithoutX(\n      {\n        linesData,\n        x: 0,\n        y: mainSectionY,\n        width: mainCanvasWidth,\n        height: mainSectionHeight,\n        minValue: mainMinValue,\n        maxValue: mainMaxValue,\n        valueNotchScale: mainValueNotchScale,\n        startIndex,\n        endIndex,\n        detailsIndex,\n        detailsOpacity,\n        pixelRatio,\n        _: forceRedrawMainCanvas,\n      },\n      lineOpacities,\n    )\n\n    drawChartX({\n      x: 0,\n      y: mainSectionY + mainSectionHeight,\n      width: mainCanvasWidth,\n      height: mainCanvasHeight - mainSectionY - mainSectionHeight,\n      minIndex,\n      maxIndex,\n      startIndex,\n      endIndex,\n      indexNotchScale,\n      pixelRatio,\n      indexNameOffset,\n      _: forceRedrawMainCanvas,\n    })\n\n    if (doDrawDetailsPopup) {\n      const x = Math.round(\n        getDetailsPopupX(\n          mainCanvasWidth,\n          detailsPopupWidth,\n          pixelRatio,\n          detailsIndex,\n          startIndex,\n          endIndex,\n          detailsAlign,\n        ),\n      )\n      drawDetailsPopup({\n        ctx: mainCtx,\n        linesData,\n        x,\n        y: chartDetailsPopupY * pixelRatio,\n        width: detailsPopupWidth,\n        pixelRatio,\n        lineOpacities: detailsLineOpacities,\n        index: detailsIndex,\n        opacity: detailsOpacity,\n        indexNameOffset,\n        valuePrecision: detailsPopupValuePrecision,\n      })\n    }\n\n    drawChartMap(\n      {\n        linesData,\n        canvasWidth: mapCanvasWidth,\n        canvasHeight: mapCanvasHeight,\n        minIndex,\n        maxIndex,\n        minValue: mapMinValue,\n        maxValue: mapMaxValue,\n        pixelRatio,\n      },\n      lineOpacities,\n    )\n  }\n}\n\nfunction getDetailsPopupX(\n  canvasWidth: number,\n  popupCssWidth: number,\n  pixelRatio: number,\n  detailsIndex: number,\n  startIndex: number,\n  endIndex: number,\n  align: number,\n) {\n  const pointerX =\n    chartSidePadding * pixelRatio +\n    ((canvasWidth - chartSidePadding * 2 * pixelRatio) * (detailsIndex - startIndex)) / (endIndex - startIndex)\n\n  const xOnLeftAlign = Math.max(\n    chartDetailsPopupMinDistanceToEdge * pixelRatio,\n    pointerX - (popupCssWidth + chartDetailsPopupXMargin) * pixelRatio,\n  )\n  const xOnRightAlign = Math.min(\n    canvasWidth - (chartDetailsPopupMinDistanceToEdge + popupCssWidth) * pixelRatio,\n    pointerX + chartDetailsPopupXMargin * pixelRatio,\n  )\n\n  return xOnLeftAlign * (1 - align) + xOnRightAlign * align\n}\n","import memoizeObjectArguments from '../../../utils/memoize_object_arguments'\nimport { chartMapLinesHorizontalMargin, chartMapLinesVerticalMargin, chartMapLineWidth } from '../../style'\nimport { LinesList } from '../types'\nimport drawLinesGroup from './lines_group'\n\ninterface Options {\n  linesData: LinesList\n  canvasWidth: number\n  canvasHeight: number\n  minIndex: number\n  maxIndex: number\n  minValue: number\n  maxValue: number\n  pixelRatio: number\n}\n\nexport default function makeChartMap(\n  ctx: CanvasRenderingContext2D,\n): (options: Options, lineOpacities: readonly number[]) => void {\n  return memoizeObjectArguments(\n    ({ linesData, canvasWidth, canvasHeight, minIndex, maxIndex, minValue, maxValue, pixelRatio }, lineOpacities) => {\n      ctx.clearRect(0, 0, canvasWidth, canvasHeight)\n\n      drawLinesGroup({\n        ctx,\n        linesData,\n        lineOpacities,\n        x: 0,\n        width: canvasWidth,\n        fromX: chartMapLinesHorizontalMargin * pixelRatio,\n        toX: canvasWidth - chartMapLinesHorizontalMargin * pixelRatio,\n        fromIndex: minIndex,\n        toIndex: maxIndex,\n        fromY: canvasHeight - chartMapLinesVerticalMargin * pixelRatio,\n        toY: chartMapLinesVerticalMargin * pixelRatio,\n        fromValue: minValue,\n        toValue: maxValue,\n        lineWidth: chartMapLineWidth * pixelRatio,\n      })\n    },\n  )\n}\n","import {\n  chartMainTopMargin,\n  chartMapHeight,\n  chartSidePadding,\n  chartMainLinesTopMargin,\n  chartMainLinesBottomMargin,\n  chartMapBottom,\n} from '../style'\nimport { watchMouseDrag, watchTouchDrag, watchHover } from '../../utils/gesture'\nimport { isInRectangle } from '../../utils/geometry'\n\nconst mapGripOutsideOffset = 30\nconst mapGripInsideOffset = 0\nconst mapGripVerticalOffset = 10\nconst mapLinesSideOffset = 10\n\nexport interface ChartGestureState {\n  // In absolute units (from 0 to 1)\n  mapSelectorStart: number\n  mapSelectorEnd: number\n}\n\nexport interface GestureWatcher {\n  setChartState(state: Readonly<ChartGestureState>): void\n  destroy(): void\n}\n\nexport interface GestureCallbacks {\n  mapSelectorStart(relativeX: number): unknown\n  mapSelectorMiddle(relativeX: number): unknown\n  mapSelectorEnd(relativeX: number): unknown\n  detailsPosition(relativeX: number | null): unknown\n}\n\ninterface Watcher {\n  destroy(): unknown\n}\n\ntype WatcherCreator = (options: {\n  onMove(event: MouseEvent | Touch): unknown\n  onEnd(event: MouseEvent | Touch): unknown\n}) => Watcher\n\n/**\n * Watches for different gestures on the chart (drag the map, hover the lines, etc.)\n */\nexport default function watchGestures(\n  element: HTMLElement,\n  chartState: Readonly<ChartGestureState>,\n  callbacks: GestureCallbacks,\n): GestureWatcher {\n  let startMapSelectorDrag: Watcher | undefined\n  let middleMapSelectorDrag: Watcher | undefined\n  let endMapSelectorDrag: Watcher | undefined\n\n  element.addEventListener('mousedown', handleMouseDown)\n  element.addEventListener('touchstart', handleTouchStart, { passive: false })\n\n  const detailsHoverWatcher = watchHover({\n    element,\n    checkHover: (event) => {\n      const { x, y } = getEventRelativeCoordinates(event)\n      return isInMapLines(x, y)\n    },\n    onMove: (event) => {\n      const { x } = getEventRelativeCoordinates(event)\n      const { x: linesX, width: linesWidth } = getMainLinesBounds()\n      callbacks.detailsPosition((x - linesX) / (linesWidth || 1))\n    },\n    onEnd: () => callbacks.detailsPosition(null),\n  })\n\n  return {\n    setChartState(newState) {\n      chartState = newState\n    },\n    destroy() {\n      element.removeEventListener('mousedown', handleMouseDown)\n      element.removeEventListener('touchstart', handleTouchStart)\n\n      for (const watcher of [detailsHoverWatcher, startMapSelectorDrag, middleMapSelectorDrag, endMapSelectorDrag]) {\n        watcher?.destroy()\n      }\n    },\n  }\n\n  function handleMouseDown(event: MouseEvent) {\n    // Don't call `event.preventDefault()` here: https://stackoverflow.com/q/66703382/1118709\n    const { x, y } = getEventRelativeCoordinates(event)\n\n    if (isInMapSelectionStart(x, y)) {\n      handleMapStartDrag(x, watchMouseDrag)\n    } else if (isInMapSelectionEnd(x, y)) {\n      handleMapEndDrag(x, watchMouseDrag)\n    } else if (isInMapSelectionMiddle(x, y)) {\n      handleMapMiddleDrag(x, watchMouseDrag)\n    }\n  }\n\n  function handleTouchStart(event: TouchEvent) {\n    for (let i = 0; i < event.changedTouches.length; ++i) {\n      const touch = event.changedTouches[i]\n      const { x, y } = getEventRelativeCoordinates(touch)\n      const createWatcher: WatcherCreator = (args) => {\n        event.preventDefault()\n        return watchTouchDrag({ startTouch: touch, ...args })\n      }\n\n      if (isInMapSelectionStart(x, y)) {\n        handleMapStartDrag(x, createWatcher)\n      } else if (isInMapSelectionEnd(x, y)) {\n        handleMapEndDrag(x, createWatcher)\n      } else if (isInMapSelectionMiddle(x, y)) {\n        handleMapMiddleDrag(x, createWatcher)\n      }\n    }\n  }\n\n  /**\n   * @param x The X position of the event start in px relative to the block\n   * @param createWatcher\n   */\n  function handleMapStartDrag(x: number, createWatcher: WatcherCreator) {\n    if (startMapSelectorDrag) {\n      return\n    }\n\n    const { x: mapX, width: mapWidth } = getMapBounds()\n    const xOffset = x - (mapX + chartState.mapSelectorStart * mapWidth)\n\n    startMapSelectorDrag = createWatcher({\n      onMove: (event) => {\n        const { x } = getEventRelativeCoordinates(event)\n        const { x: mapX, width: mapWidth } = getMapBounds()\n        callbacks.mapSelectorStart((x - xOffset - mapX) / (mapWidth || 1))\n      },\n      onEnd: () => (startMapSelectorDrag = undefined),\n    })\n  }\n\n  /**\n   * @param x The X position of the event start in px relative to the block\n   * @param createWatcher\n   */\n  function handleMapMiddleDrag(x: number, createWatcher: WatcherCreator) {\n    if (middleMapSelectorDrag) {\n      return\n    }\n\n    const { x: mapX, width: mapWidth } = getMapBounds()\n    const xOffset = x - (mapX + ((chartState.mapSelectorStart + chartState.mapSelectorEnd) / 2) * mapWidth)\n\n    middleMapSelectorDrag = createWatcher({\n      onMove: (event) => {\n        const { x } = getEventRelativeCoordinates(event)\n        const { x: mapX, width: mapWidth } = getMapBounds()\n        callbacks.mapSelectorMiddle((x - xOffset - mapX) / (mapWidth || 1))\n      },\n      onEnd: () => (middleMapSelectorDrag = undefined),\n    })\n  }\n\n  /**\n   * @param x The X position of the event start in px relative to the block\n   * @param createWatcher\n   */\n  function handleMapEndDrag(x: number, createWatcher: WatcherCreator) {\n    if (endMapSelectorDrag) {\n      return\n    }\n\n    const { x: mapX, width: mapWidth } = getMapBounds()\n    const xOffset = x - (mapX + chartState.mapSelectorEnd * mapWidth)\n\n    endMapSelectorDrag = createWatcher({\n      onMove: (event) => {\n        const { x } = getEventRelativeCoordinates(event)\n        const { x: mapX, width: mapWidth } = getMapBounds()\n        callbacks.mapSelectorEnd((x - xOffset - mapX) / (mapWidth || 1))\n      },\n      onEnd: () => (endMapSelectorDrag = undefined),\n    })\n  }\n\n  /**\n   * The coordinates are in pixels and relative to the block\n   */\n  function isInMapSelectionStart(targetX: number, targetY: number) {\n    const { x, y, width, height } = getMapBounds()\n\n    return isInRectangle(\n      targetX,\n      targetY,\n      x + width * chartState.mapSelectorStart - mapGripOutsideOffset,\n      y - mapGripVerticalOffset,\n      mapGripInsideOffset + mapGripOutsideOffset,\n      height + mapGripVerticalOffset * 2,\n    )\n  }\n\n  /**\n   * The coordinates are in pixels and relative to the block\n   */\n  function isInMapSelectionEnd(targetX: number, targetY: number) {\n    const { x, y, width, height } = getMapBounds()\n\n    return isInRectangle(\n      targetX,\n      targetY,\n      x + width * chartState.mapSelectorEnd - mapGripInsideOffset,\n      y - mapGripVerticalOffset,\n      mapGripInsideOffset + mapGripOutsideOffset,\n      height + mapGripVerticalOffset * 2,\n    )\n  }\n\n  /**\n   * The coordinates are in pixels and relative to the block\n   */\n  function isInMapSelectionMiddle(targetX: number, targetY: number) {\n    const { x, y, width, height } = getMapBounds()\n\n    return isInRectangle(\n      targetX,\n      targetY,\n      x + width * chartState.mapSelectorStart,\n      y - mapGripVerticalOffset,\n      width * (chartState.mapSelectorEnd - chartState.mapSelectorStart),\n      height + mapGripVerticalOffset * 2,\n    )\n  }\n\n  /**\n   * The coordinates are in pixels and relative to the block\n   */\n  function isInMapLines(targetX: number, targetY: number) {\n    const { x, y, width, height } = getMainLinesBounds()\n\n    return isInRectangle(targetX, targetY, x - mapLinesSideOffset, y, width + mapLinesSideOffset * 2, height)\n  }\n\n  function getEventRelativeCoordinates(event: MouseEvent | Touch) {\n    const { clientWidth, clientHeight } = element\n    const bounds = element.getBoundingClientRect()\n\n    return {\n      x: ((event.clientX - bounds.left) / bounds.width) * clientWidth,\n      y: ((event.clientY - bounds.top) / bounds.height) * clientHeight,\n    }\n  }\n\n  function getMapBounds() {\n    const { clientWidth, clientHeight } = element\n\n    return {\n      x: chartSidePadding,\n      y: clientHeight - chartMapHeight - chartMapBottom,\n      width: clientWidth - chartSidePadding * 2,\n      height: chartMapHeight,\n    }\n  }\n\n  function getMainLinesBounds() {\n    const { clientWidth, clientHeight } = element\n    const y = chartMainTopMargin + chartMainLinesTopMargin\n\n    return {\n      x: chartSidePadding,\n      y,\n      width: clientWidth - chartSidePadding * 2,\n      height: clientHeight - y - chartMainLinesBottomMargin - chartMapHeight,\n    }\n  }\n}\n","import { easeQuadInOut } from 'd3-ease'\nimport memoizeOne from 'memoize-one'\nimport { fitRangeInRangeWhileKeepingLength, getArrayMinAndMax, getMinAndMaxOnRange } from '../../utils/data'\nimport {\n  Animation,\n  makeAnimationGroup,\n  makeExponentialTransition,\n  makeInstantWhenHiddenTransition,\n  makeTransition,\n  makeTransitionGroup,\n} from '../../utils/animation_group'\nimport { inRange } from '../../utils/number'\nimport { getScaleToFitRange, getSubDecimalScale, getValueRangeForFixedBottom } from '../../utils/scale'\nimport { chartSidePadding, chartValueScaleMinSpaceForNotch, chartValueScaleMaxNotchCount } from '../style'\nimport makeChartDrawer from './drawers/chart'\nimport watchGestures, { GestureWatcher, ChartGestureState } from './watch_gestures'\nimport { LinesList } from './types'\n\ntype LinesMinAndMax = readonly Readonly<{ min: number; max: number }>[]\ntype AnimatedWriteState = Parameters<ReturnType<typeof createAnimatedState>['moveTo']>[0]\n\ninterface Options {\n  /** In pixels */\n  detailsPopupWidth: number\n  /** The number of digits after the fractional dot */\n  detailsPopupValuePrecision: number | null\n  minTopValue: number\n  maxBottomValue: number\n}\n\n/**\n * Manages the chart state, including the animations.\n *\n * Data flow:\n * event -> update state and caches -> update animated state -> render the canvas in the animated state callback\n *\n * Word \"index\" is used to represent the X axis semantic (in order not to confuse with pixels).\n * Word \"value\" is used to represent the Y axis semantic (in order not to confuse with pixels).\n *\n * @see https://github.com/Finesse/telegram-chart Based on\n */\nexport default class Controller {\n  // Outside properties:\n  private lines: LinesList = []\n  private indexNameOffset = 0\n  private minIndexRange = 10\n  private maxIndexRange = 500\n  private options: Options = {\n    detailsPopupWidth: 200,\n    detailsPopupValuePrecision: null,\n    minTopValue: -Infinity,\n    maxBottomValue: Infinity,\n  }\n\n  // User input state:\n  private startIndex = 0 // Start of the selected map area\n  private endIndex = 0 // End of the selected map area\n  private detailsIndex: number | null = null\n\n  // Caches:\n  private mainCanvasWidth = 0 // In CSS pixels\n  private mainCanvasHeight = 0 // In CSS pixels\n  private mapCanvasWidth = 0 // In CSS pixels\n  private mapCanvasHeight = 0 // In CSS pixels\n  private pixelRatio = 1\n  private getIndexRange = memoizeOne(getIndexRange)\n  private getLinesMinAndMax = makeGetLinesMinAndMax()\n  private getLineOpacities = memoizeOne(getLineOpacities)\n  private getMapValueRange = memoizeOne(getMapValueRange)\n  private getMainValueRange = memoizeOne(getMainValueRange)\n\n  // All the animated state:\n  private animatedState: ReturnType<typeof createAnimatedState>\n\n  // Helper engines:\n  private updateCanvases = makeChartDrawer(this.mainCanvas, this.mapCanvas)\n  private gesturesWatcher: GestureWatcher\n\n  constructor(\n    gestureContainer: HTMLElement,\n    private mainCanvas: HTMLCanvasElement,\n    private mapCanvas: HTMLCanvasElement,\n    lines: LinesList,\n    /** What's the real index of the first line values */\n    indexNameOffset: number,\n    minIndexRange: number,\n    maxIndexRange: number,\n    initialIndexRange: number,\n    options: Partial<Options> = {},\n  ) {\n    this.setDomState()\n    this.setLinesState(lines, indexNameOffset, minIndexRange, maxIndexRange, initialIndexRange)\n    this.options = { ...this.options, ...options }\n    this.animatedState = createAnimatedState(lines.length, this.render.bind(this))\n    this.animatedState.moveTo(this.getAnimatedStateTarget(), true)\n    this.gesturesWatcher = watchGestures(gestureContainer, this.getStateForGestureWatcher(), {\n      mapSelectorStart: this.handleStartIndexMove.bind(this),\n      mapSelectorMiddle: this.handleIndexMove.bind(this),\n      mapSelectorEnd: this.handleEndIndexMove.bind(this),\n      detailsPosition: this.handleDetailsPositionMove.bind(this),\n    })\n\n    // Assume that the canvases are resized only when the browser window is resized\n    addEventListener('resize', this.handleResize)\n\n    this.render()\n  }\n\n  public setLines(lines: LinesList, indexNameOffset: number, minIndexRange: number, maxIndexRange: number): void {\n    this.setLinesState(lines, indexNameOffset, minIndexRange, maxIndexRange)\n    this.handleStateChange()\n  }\n\n  public setOptions(options: Partial<Options>): void {\n    this.options = { ...this.options, ...options }\n    this.handleStateChange()\n  }\n\n  /**\n   * Releases the memory taken by the state manager\n   */\n  public destroy(): void {\n    removeEventListener('resize', this.handleResize)\n    this.animatedState.destroy()\n    this.gesturesWatcher.destroy()\n  }\n\n  private setLinesState(\n    lines: LinesList,\n    indexNameOffset: number,\n    minIndexRangeLength: number,\n    maxIndexRangeLength: number,\n    indexRangeLength?: number,\n  ) {\n    if (this.animatedState && this.lines.length !== lines.length) {\n      throw new Error('Changing the number of lines is not implemented')\n    }\n\n    this.lines = lines\n    this.indexNameOffset = indexNameOffset\n    this.minIndexRange = minIndexRangeLength\n    this.maxIndexRange = maxIndexRangeLength\n\n    // Adjust the selected map range for the new lines\n    const indexRange = this.getIndexRange(lines)\n    const { start, end } =\n      indexRangeLength !== undefined\n        ? getInitialIndexRange(\n            indexRange.min,\n            indexRange.max,\n            inRange(minIndexRangeLength, indexRangeLength, maxIndexRangeLength),\n          )\n        : fitRangeInRangeWhileKeepingLength(\n            indexRange.min,\n            indexRange.max,\n            this.startIndex,\n            inRange(this.startIndex + this.minIndexRange, this.endIndex, this.startIndex + this.maxIndexRange),\n          )\n    this.startIndex = start\n    this.endIndex = end\n  }\n\n  private setDomState() {\n    this.mainCanvasWidth = this.mainCanvas.clientWidth\n    this.mainCanvasHeight = this.mainCanvas.clientHeight\n    this.mapCanvasWidth = this.mapCanvas.clientWidth\n    this.mapCanvasHeight = this.mapCanvas.clientHeight\n    this.pixelRatio = devicePixelRatio || 1\n  }\n\n  private getStateForGestureWatcher(): ChartGestureState {\n    const indexRange = this.getIndexRange(this.lines)\n    return {\n      mapSelectorStart: (this.startIndex - indexRange.min) / (indexRange.max - indexRange.min || 1),\n      mapSelectorEnd: (this.endIndex - indexRange.min) / (indexRange.max - indexRange.min || 1),\n    }\n  }\n\n  private handleResize = () => {\n    this.setDomState()\n    this.handleStateChange()\n  }\n\n  private handleStartIndexMove(relativeX: number) {\n    const indexRange = this.getIndexRange(this.lines)\n    const index = indexRange.min + relativeX * (indexRange.max - indexRange.min)\n    this.startIndex = inRange(indexRange.min, index, indexRange.max - this.minIndexRange)\n    this.endIndex = inRange(this.startIndex + this.minIndexRange, this.endIndex, this.startIndex + this.maxIndexRange)\n    this.handleStateChange()\n  }\n\n  private handleEndIndexMove(relativeX: number) {\n    const indexRange = this.getIndexRange(this.lines)\n    const index = indexRange.min + relativeX * (indexRange.max - indexRange.min)\n    this.endIndex = inRange(indexRange.min + this.minIndexRange, index, indexRange.max)\n    this.startIndex = inRange(this.endIndex - this.maxIndexRange, this.startIndex, this.endIndex - this.minIndexRange)\n    this.handleStateChange()\n  }\n\n  private handleIndexMove(relativeMiddleX: number) {\n    const indexRange = this.getIndexRange(this.lines)\n    const index = indexRange.min + relativeMiddleX * (indexRange.max - indexRange.min)\n    const currentIndexLength = this.endIndex - this.startIndex\n    this.startIndex = inRange(indexRange.min, index - currentIndexLength / 2, indexRange.max - currentIndexLength)\n    this.endIndex = this.startIndex + currentIndexLength\n    this.handleStateChange()\n  }\n\n  private handleDetailsPositionMove(relativeX: number) {\n    if (relativeX === null) {\n      this.detailsIndex = null\n    } else {\n      const index = this.startIndex + (this.endIndex - this.startIndex) * relativeX\n      this.detailsIndex = inRange(Math.ceil(this.startIndex), Math.round(index), Math.floor(this.endIndex))\n    }\n    this.handleStateChange(true)\n  }\n\n  /**\n   * Must be called when a property that reflects the chart state changes.\n   *\n   * Toggle `dontForceRender` when you change a state that never requires rendering without running animations.\n   */\n  private handleStateChange(dontForceRender?: boolean) {\n    this.animatedState.moveTo(this.getAnimatedStateTarget())\n    if (!dontForceRender) {\n      this.animatedState.updateOnNextFrame()\n    }\n    this.gesturesWatcher.setChartState(this.getStateForGestureWatcher())\n  }\n\n  /**\n   * Returns the state to which the animations should be going\n   */\n  private getAnimatedStateTarget() {\n    const detailsPosition = getDetailsPosition(this.lines, this.detailsIndex, this.startIndex, this.endIndex)\n    const target: AnimatedWriteState = {\n      lineOpacities: this.getLineOpacities(this.lines),\n      indexNotchScale: getIndexNotchScale(this.startIndex, this.endIndex, this.mainCanvasWidth),\n      detailsPosition: [detailsPosition, detailsPosition ? 1 : 0],\n    }\n\n    const mapValueRange = this.getMapValueRange(\n      this.lines,\n      this.options.maxBottomValue,\n      this.options.minTopValue,\n      this.getLinesMinAndMax(this.lines),\n    )\n    if (mapValueRange) {\n      target.mapValueMiddle = mapValueRange.middle\n\n      // Don't shrink the chart when all the lines are disabled or equal\n      if (mapValueRange.size) {\n        target.mapValueSize = mapValueRange.size\n      }\n    }\n\n    const mainValueRange = this.getMainValueRange(\n      this.lines,\n      this.startIndex,\n      this.endIndex,\n      this.options.maxBottomValue,\n      this.options.minTopValue,\n    )\n    if (mainValueRange) {\n      target.mainValueMiddle = mainValueRange.middle\n\n      // Don't shrink the chart when all the lines are disabled or equal\n      if (mainValueRange.size) {\n        target.mainValueSize = mainValueRange.size\n        target.mainValueNotchScale = mainValueRange.notchScale\n      }\n    }\n\n    return target\n  }\n\n  /**\n   * Renders a chart animation frame\n   */\n  private render() {\n    const {\n      lineOpacities,\n      mapValueMiddle,\n      mapValueSize,\n      mainValueMiddle,\n      mainValueSize,\n      detailsPosition: [\n        { index: detailsIndex, align: detailsAlign, lineOpacities: detailsLineOpacities },\n        detailsOpacity,\n      ],\n      ...restAnimatedState\n    } = this.animatedState.getState()\n\n    const { min: minIndex, max: maxIndex } = this.getIndexRange(this.lines)\n\n    this.updateCanvases(\n      {\n        ...restAnimatedState,\n        linesData: this.lines,\n        indexNameOffset: this.indexNameOffset,\n        mainCanvasWidth: this.mainCanvasWidth * this.pixelRatio,\n        mainCanvasHeight: this.mainCanvasHeight * this.pixelRatio,\n        mapCanvasWidth: this.mapCanvasWidth * this.pixelRatio,\n        mapCanvasHeight: this.mapCanvasHeight * this.pixelRatio,\n        pixelRatio: this.pixelRatio,\n        minIndex,\n        maxIndex,\n        startIndex: this.startIndex,\n        endIndex: this.endIndex,\n        mapMinValue: mapValueMiddle - mapValueSize / 2,\n        mapMaxValue: mapValueMiddle + mapValueSize / 2,\n        mainMinValue: mainValueMiddle - mainValueSize / 2,\n        mainMaxValue: mainValueMiddle + mainValueSize / 2,\n        detailsIndex,\n        detailsAlign,\n        detailsOpacity,\n        detailsPopupWidth: this.options.detailsPopupWidth,\n        detailsPopupValuePrecision: this.options.detailsPopupValuePrecision,\n      },\n      Object.values(lineOpacities),\n      Object.values(detailsLineOpacities),\n    )\n  }\n}\n\nfunction getIndexRange(lines: LinesList) {\n  return {\n    min: 0,\n    max: Math.max(2, ...lines.map(({ values }) => values.length)) - 1,\n  }\n}\n\nfunction makeGetLinesMinAndMax() {\n  // Cache\n  let lastLines: LinesList = []\n  let lastMinAndMax: LinesMinAndMax = []\n\n  return function getLinesMinAndMax(lines: LinesList): LinesMinAndMax {\n    if (lines === lastLines) {\n      return lastMinAndMax\n    }\n\n    const minAndMax: Array<{ min: number; max: number }> = []\n\n    for (let key = 0; key < lines.length; ++key) {\n      minAndMax.push(\n        key < lastLines.length && lastLines[key].values === lines[key].values\n          ? lastMinAndMax[key]\n          : getArrayMinAndMax(lines[key].values),\n      )\n    }\n\n    lastLines = lines\n    lastMinAndMax = minAndMax\n    return minAndMax\n  }\n}\n\nfunction getInitialIndexRange(minIndex: number, maxIndex: number, length: number): { start: number; end: number } {\n  return {\n    start: minIndex,\n    end: Math.min(minIndex + length, maxIndex),\n  }\n}\n\nfunction getLineOpacities(lines: LinesList) {\n  const opacities: Record<number, number> = {}\n  for (let key = 0; key < lines.length; ++key) {\n    opacities[key] = lines[key].draw ? 1 : 0\n  }\n  return opacities\n}\n\nfunction getMapValueRange(lines: LinesList, maxBottom: number, minTop: number, linesMinAndMaxCache: LinesMinAndMax) {\n  let min = maxBottom\n  let max = minTop\n\n  for (let key = 0; key < lines.length; ++key) {\n    if (lines[key].draw) {\n      if (linesMinAndMaxCache[key].min < min) {\n        min = linesMinAndMaxCache[key].min\n      }\n      if (linesMinAndMaxCache[key].max > max) {\n        max = linesMinAndMaxCache[key].max\n      }\n    }\n  }\n\n  if (isFinite(min) && isFinite(max)) {\n    return {\n      middle: (min + max) / 2,\n      size: max - min,\n    }\n  }\n\n  return undefined\n}\n\nfunction getMainValueRange(lines: LinesList, startIndex: number, endIndex: number, maxBottom: number, minTop: number) {\n  let totalMin = maxBottom\n  let totalMax = minTop\n\n  for (let key = 0; key < lines.length; ++key) {\n    if (lines[key].draw) {\n      const { min, max } = getMinAndMaxOnRange(lines[key].values, startIndex, endIndex)\n      if (min < totalMin) {\n        totalMin = min\n      }\n      if (max > totalMax) {\n        totalMax = max\n      }\n    }\n  }\n\n  if (isFinite(totalMin) && isFinite(totalMax)) {\n    const { min, max, notchScale } = getValueRangeForFixedBottom(totalMin, totalMax, chartValueScaleMaxNotchCount)\n    return {\n      middle: (min + max) / 2,\n      size: max - min,\n      notchScale,\n    }\n  }\n\n  return undefined\n}\n\nfunction getIndexNotchScale(startIndex: number, endIndex: number, canvasWidth: number) {\n  return Math.max(\n    getSubDecimalScale(1), // The minimal distance between the notches is 1\n    getScaleToFitRange(endIndex - startIndex, (canvasWidth - chartSidePadding * 2) / chartValueScaleMinSpaceForNotch),\n  )\n}\n\nfunction getDetailsPosition(lines: LinesList, detailsX: number | null, startIndex: number, endIndex: number) {\n  if (detailsX === null) {\n    return undefined\n  }\n\n  const relativePosition = (detailsX - startIndex) / (endIndex - startIndex)\n\n  const opacities: Record<number, number> = {}\n  for (let key = 0; key < lines.length; ++key) {\n    opacities[key] = lines[key].showInPopup ? 1 : 0\n  }\n\n  return {\n    index: detailsX,\n    align: relativePosition > 0.5 ? 0 : 1,\n    lineOpacities: opacities,\n  }\n}\n\n/**\n * Creates an animation state container with the default state\n */\nfunction createAnimatedState(linesCount: number, render: () => void) {\n  const lineOpacitiesTransitions: Record<number, Animation<number>> = {}\n  const detailsLineOpacitiesTransitions: Record<number, Animation<number>> = {}\n  for (let key = 0; key < linesCount; ++key) {\n    lineOpacitiesTransitions[key] = makeTransition(1, { easing: easeQuadInOut })\n    detailsLineOpacitiesTransitions[key] = makeTransition(1, { easing: easeQuadInOut })\n  }\n\n  const defaultValueMiddle = 0\n  const defaultValueSize = 2\n  const defaultMainYRange = getValueRangeForFixedBottom(\n    defaultValueMiddle - defaultValueSize / 2,\n    defaultValueMiddle + defaultValueSize / 2,\n    chartValueScaleMaxNotchCount,\n  )\n\n  return makeAnimationGroup(\n    {\n      lineOpacities: makeTransitionGroup(lineOpacitiesTransitions),\n      mapValueMiddle: makeTransition(defaultValueMiddle),\n      mapValueSize: makeExponentialTransition(defaultValueSize),\n      mainValueMiddle: makeTransition((defaultMainYRange.min + defaultMainYRange.max) / 2),\n      mainValueSize: makeExponentialTransition(defaultMainYRange.max - defaultMainYRange.min),\n      mainValueNotchScale: makeTransition(defaultMainYRange.notchScale),\n      indexNotchScale: makeTransition(0),\n      detailsPosition: makeInstantWhenHiddenTransition(\n        makeTransitionGroup({\n          index: makeTransition(0, { duration: 300 }),\n          align: makeTransition(0, { easing: easeQuadInOut }),\n          lineOpacities: makeTransitionGroup(detailsLineOpacitiesTransitions),\n        }),\n        makeTransition(0, { easing: easeQuadInOut, duration: 300 }),\n      ),\n    },\n    render,\n  )\n}\n","import * as React from 'react'\nimport { chartMapBottom, chartMapCornerRadius, chartMapHeight, chartSidePadding } from '../style'\nimport Controller from './controller'\nimport { LinesList } from './types'\nimport * as style from './chart.css'\n\ninterface Props {\n  lines: LinesList\n  /** The number to show under the first values on the chart */\n  actualFirstIndex?: number\n  minSelectionLength?: number\n  maxSelectionLength?: number\n  initialSelectionLength?: number\n  maxBottomValue?: number\n  minTopValue?: number\n  detailsPopupWidth?: number\n  /** The number of digits after the fractional dot */\n  detailsPopupValuePrecision?: number | null\n  className?: string\n}\n\n/**\n * Draws a chart with lines.\n */\nfunction Chart({\n  lines,\n  actualFirstIndex = 0,\n  initialSelectionLength = 100,\n  minSelectionLength = 10,\n  maxSelectionLength = 500,\n  maxBottomValue = Infinity,\n  minTopValue = -Infinity,\n  detailsPopupWidth = 200,\n  detailsPopupValuePrecision,\n  className = '',\n}: Props) {\n  const gestureContainerRef = React.useRef<HTMLDivElement>(null)\n  const mainCanvasRef = React.useRef<HTMLCanvasElement>(null)\n  const mapCanvasRef = React.useRef<HTMLCanvasElement>(null)\n  const controllerRef = React.useRef<Controller>()\n\n  React.useEffect(() => {\n    const options = { maxBottomValue, minTopValue, detailsPopupWidth, detailsPopupValuePrecision }\n\n    if (controllerRef.current) {\n      controllerRef.current.setLines(lines, actualFirstIndex, minSelectionLength, maxSelectionLength)\n      controllerRef.current?.setOptions(options)\n    } else {\n      controllerRef.current = new Controller(\n        gestureContainerRef.current!, // eslint-disable-line @typescript-eslint/no-non-null-assertion\n        mainCanvasRef.current!, // eslint-disable-line @typescript-eslint/no-non-null-assertion\n        mapCanvasRef.current!, // eslint-disable-line @typescript-eslint/no-non-null-assertion\n        lines,\n        actualFirstIndex,\n        minSelectionLength,\n        maxSelectionLength,\n        initialSelectionLength,\n        options,\n      )\n    }\n  }, [\n    lines,\n    actualFirstIndex,\n    minSelectionLength,\n    maxSelectionLength,\n    maxBottomValue,\n    minTopValue,\n    detailsPopupWidth,\n    detailsPopupValuePrecision,\n  ])\n\n  React.useEffect(() => {\n    return () => controllerRef.current?.destroy()\n  }, [])\n\n  return (\n    <div className={`${style.box} ${className}`} ref={gestureContainerRef}>\n      <canvas\n        className={style.map}\n        style={{\n          left: `${chartSidePadding}px`,\n          bottom: `${chartMapBottom}px`,\n          width: `calc(100% - ${chartSidePadding * 2}px)`,\n          height: `${chartMapHeight}px`,\n          borderRadius: `${chartMapCornerRadius}px`,\n        }}\n        ref={mapCanvasRef}\n      />\n      <canvas className={style.main} ref={mainCanvasRef} />\n    </div>\n  )\n}\n\nexport default React.memo(Chart)\n","// extracted by mini-css-extract-plugin\nexport const box = \"chart__box__EOOST\";\nexport const main = \"chart__main__cruNG\";\nexport const map = \"chart__map__2SLNi\";","import * as React from 'react'\nimport { numberColorToRGBA } from '../utils/color'\nimport type { Signal } from '../example_signals'\nimport { useAudioSignal } from '../utils/audio'\nimport LoadingScreen from './loading_screen/loading_screen'\nimport Layout from './layout/layout'\nimport ToggleButtonGroup from './toggle_button/toggle_button_group'\nimport Chart from './chart/chart'\nimport { palette } from './style'\n\n/**\n * The demo that shows differences between audio signals on different platforms\n */\nconst DifferenceDemo = React.memo(function DifferenceDemo() {\n  const currentBrowserSignal = useCurrentBrowserSignal()\n  const exampleSignals = useExampleSignals()\n\n  if (currentBrowserSignal === undefined || exampleSignals === undefined) {\n    return <LoadingScreen fullAbsolute />\n  }\n\n  return <LoadedDemo currentBrowserSignal={currentBrowserSignal} exampleSignals={exampleSignals} />\n})\n\nexport default DifferenceDemo\n\nconst signalOffset = 4500\n\n/**\n * Null means that the signal is impossible to get.\n * Undefined means that the signal is being calculated.\n */\nfunction useCurrentBrowserSignal() {\n  const signal = useAudioSignal({\n    // Matches the example signals (actually they contain signal slices from 4500 to 5000)\n    length: 5000,\n    // Match the parameters at https://github.com/fingerprintjs/fingerprintjs/blob/9760b06109/src/sources/audio.ts\n    oscillator: {\n      type: 'triangle',\n      frequency: 10000,\n    },\n    dynamicsCompressor: {\n      threshold: -50,\n      knee: 40,\n      ratio: 12,\n      attack: 0,\n      release: 0.25,\n    },\n  })\n\n  // Trim the signal to match the example signals\n  return React.useMemo(() => signal && signal.subarray(signalOffset), [signal])\n}\n\nfunction useExampleSignals() {\n  const [exampleSignals, setExampleSignals] = React.useState<Record<string, Signal>>()\n\n  React.useEffect(() => {\n    import('../example_signals').then(({ default: signals }) => {\n      setExampleSignals(signals)\n    })\n  }, [])\n\n  return exampleSignals\n}\n\ninterface LoadedDemoProps {\n  currentBrowserSignal: Float32Array | null\n  exampleSignals: Record<string, Signal>\n}\n\nfunction LoadedDemo({ currentBrowserSignal, exampleSignals }: LoadedDemoProps) {\n  const currentSignalKey = '__current'\n  const [enabledSignals, setEnabledSignals] = React.useState([currentSignalKey, ...Object.keys(exampleSignals)])\n\n  const allSignals = React.useMemo(() => {\n    const signals = Object.entries(exampleSignals).map(([key, { title, values }]) => ({\n      key,\n      title,\n      color: 0,\n      values,\n    }))\n\n    if (currentBrowserSignal) {\n      signals.unshift({\n        key: currentSignalKey,\n        title: 'Your browser',\n        color: 0,\n        values: currentBrowserSignal,\n      })\n    }\n\n    for (let i = 0; i < signals.length; ++i) {\n      signals[i].color = palette[i % palette.length]\n    }\n\n    return signals\n  }, [currentBrowserSignal, exampleSignals])\n\n  const chartLines = React.useMemo(\n    () =>\n      allSignals.map(({ key, title, ...signal }) => {\n        const enabled = enabledSignals.includes(key)\n        return { ...signal, name: title, draw: enabled, showInPopup: enabled }\n      }),\n    [allSignals, enabledSignals],\n  )\n\n  const buttons = React.useMemo(\n    () =>\n      allSignals.map(({ key, color, title }) => ({\n        key,\n        value: key,\n        color: numberColorToRGBA(color),\n        text: title,\n      })),\n    [allSignals],\n  )\n\n  return (\n    <Layout\n      content={\n        <Chart\n          lines={chartLines}\n          actualFirstIndex={signalOffset}\n          minSelectionLength={10}\n          maxSelectionLength={500}\n          initialSelectionLength={53}\n          detailsPopupWidth={300}\n        />\n      }\n      controls={<ToggleButtonGroup buttons={buttons} on={enabledSignals} onSwitch={setEnabledSignals} />}\n    />\n  )\n}\n","import * as React from 'react'\nimport * as styles from './form.css'\n\nexport interface Field {\n  label: React.ReactNode\n  value?: React.ReactNode\n  input: React.ReactNode\n  key?: React.Key\n}\n\ninterface Props {\n  fields: Field[]\n  className?: string\n}\n\nexport default function Form({ fields, className = '' }: Props): React.ReactElement {\n  return (\n    <div className={`${styles.list} ${className}`}>\n      {fields.map(({ label, value, input, key }, index) => (\n        <div className={styles.field} key={key ?? index}>\n          <div className={styles.label}>{label}</div>\n          {value !== undefined && <div className={styles.value}>{value}</div>}\n          <div className={styles.input}>{input}</div>\n        </div>\n      ))}\n    </div>\n  )\n}\n","// extracted by mini-css-extract-plugin\nexport const list = \"form__list__2Tp6F\";\nexport const field = \"form__field__19YW_\";\nexport const label = \"form__label__3qyny\";\nexport const value = \"form__value__uAMPB\";\nexport const input = \"form__input__3JObU\";","import * as React from 'react'\nimport { roundWithBase } from '../../utils/number'\nimport * as styles from './range.css'\n\ninterface Props {\n  value: number\n  min: number\n  max: number\n  step: number\n  isExponential?: boolean\n  onChange?(value: number): unknown\n  className?: string\n}\n\n/**\n * The styles are copied from\n * https://github.com/fingerprintjs/fingerprintjs.com/blob/ec606633be/src/components/common/RangeSlider/index.tsx\n */\nconst Range = React.memo(function Range({ value, min, max, step, isExponential, onChange, className = '' }: Props) {\n  function handleChange(event: React.ChangeEvent<HTMLInputElement>) {\n    if (onChange) {\n      const value = inputValueToPropValue(Number(event.target.value), isExponential)\n      onChange(alignToStep(value, step))\n    }\n  }\n\n  const inputValue = propValueToInputValue(value, isExponential)\n  const inputMin = propValueToInputValue(min, isExponential)\n  const inputMax = propValueToInputValue(max, isExponential)\n\n  const thumbSize = 18\n  const ratio = (inputValue - inputMin) / (inputMax - inputMin)\n  const sliderOffsetCss = `calc(${ratio * 100}% + ${thumbSize / 2}px - ${thumbSize * ratio}px)`\n\n  return (\n    <div\n      className={`${styles.inputContainer} ${className}`}\n      style={{ '--left': sliderOffsetCss, '--thumb-size': `${thumbSize}px` } as React.CSSProperties}\n    >\n      <input\n        type=\"range\"\n        value={inputValue}\n        min={inputMin}\n        max={inputMax}\n        step={(inputMax - inputMin) / 10000}\n        onChange={handleChange}\n        className={styles.input}\n      />\n    </div>\n  )\n})\n\nexport default Range\n\nfunction propValueToInputValue(value: number, isExponential: boolean | undefined) {\n  return isExponential ? Math.log(Math.max(1e-12, value)) : value\n}\n\nfunction inputValueToPropValue(value: number, isExponential: boolean | undefined) {\n  return isExponential ? Math.exp(value) : value\n}\n\nfunction alignToStep(value: number, step: number) {\n  return roundWithBase(value, step)\n}\n","// extracted by mini-css-extract-plugin\nexport const inputContainer = \"range__inputContainer__1jDdw\";\nexport const input = \"range__input__32SiS\";","import * as React from 'react'\nimport * as styles from './select.css'\n\ninterface Option<T extends string> {\n  value: T\n  label: string\n  disabled?: boolean\n}\n\ninterface Props<T extends string> {\n  options: readonly Readonly<Option<T>>[]\n  selected: string\n  onSelect?(selected: T): unknown\n  className?: string\n}\n\nconst Select = React.memo(function Select<T extends string>({ options, selected, onSelect, className = '' }: Props<T>) {\n  return (\n    <div className={`${styles.box} ${className}`}>\n      <select value={selected} className={styles.select} onChange={(event) => onSelect?.(event.target.value as T)}>\n        {options.map(({ value, label, disabled }, index) => (\n          <option value={value} disabled={disabled} key={index}>\n            {label}\n          </option>\n        ))}\n      </select>\n      <span className={styles.icon} />\n    </div>\n  )\n}) as <T extends string>(props: Props<T>) => React.ReactElement\n\nexport default Select\n","// extracted by mini-css-extract-plugin\nexport const box = \"select__box__H5vbX\";\nexport const select = \"select__select__o6wbh\";\nexport const icon = \"select__icon__1UwIk\";","import * as React from 'react'\nimport * as styles from './section_header.css'\n\ninterface Props {\n  children?: React.ReactNode\n  className?: string\n}\n\nexport default function SectionHeader({ className = '', ...props }: Props): React.ReactElement {\n  return <div className={`${styles.header} ${className}`} {...props} />\n}\n","import * as React from 'react'\nimport { DynamicsCompressorOptions, OscillatorOptions, useAudioSignal } from '../utils/audio'\nimport { removeFloatArtifact } from '../utils/number'\nimport LoadingScreen from './loading_screen/loading_screen'\nimport Layout from './layout/layout'\nimport Chart from './chart/chart'\nimport Form from './form/form'\nimport Range from './form/range'\nimport Select from './form/select'\nimport SectionHeader from './form/section_header'\nimport { palette } from './style'\n\ninterface Props {\n  useDynamicsCompressor?: boolean\n}\n\nconst SignalOptionsDemo = React.memo(function SignalOptionsDemo({ useDynamicsCompressor }: Props) {\n  const signalOffset = useDynamicsCompressor ? 250 : 0\n  const [formData, setFormData] = React.useState<FormData>({\n    oscillator: {\n      type: useDynamicsCompressor ? 'square' : 'sine',\n      frequency: 170,\n    },\n    dynamicsCompressor: {\n      threshold: -50,\n      knee: 40,\n      ratio: 12,\n      attack: 0.012,\n      release: 0.25,\n    },\n  })\n  const signal = useAudioSignal({\n    length: 2500,\n    oscillator: formData.oscillator,\n    dynamicsCompressor: useDynamicsCompressor ? formData.dynamicsCompressor : undefined,\n  })\n  // This useMemo is required for the Chart inner memoization\n  const chartLines = React.useMemo(\n    () => [\n      {\n        name: 'Audio signal',\n        color: palette[0],\n        values: signal?.subarray(signalOffset) ?? [],\n        draw: true,\n        showInPopup: true,\n      },\n    ],\n    [signal || undefined, signalOffset],\n  )\n\n  if (signal === undefined) {\n    return <LoadingScreen fullAbsolute />\n  }\n\n  return (\n    <Layout\n      content={\n        <Chart\n          lines={chartLines}\n          actualFirstIndex={signalOffset}\n          minSelectionLength={50}\n          maxSelectionLength={2500}\n          initialSelectionLength={660}\n          maxBottomValue={-1}\n          minTopValue={1}\n          detailsPopupWidth={180}\n          detailsPopupValuePrecision={5}\n        />\n      }\n      controls={<OptionsForm showDynamicsCompressor={useDynamicsCompressor} data={formData} onChange={setFormData} />}\n    />\n  )\n})\n\nexport default SignalOptionsDemo\n\ninterface FormData {\n  oscillator: OscillatorOptions\n  dynamicsCompressor: DynamicsCompressorOptions\n}\n\ninterface FormProps {\n  showDynamicsCompressor?: boolean\n  data: FormData\n  onChange(data: FormData): unknown\n}\n\nconst OptionsForm = React.memo(function OptionsForm({ showDynamicsCompressor, data, onChange }: FormProps) {\n  return (\n    <>\n      {showDynamicsCompressor && <SectionHeader>Oscillator</SectionHeader>}\n      <Form\n        fields={[\n          {\n            label: 'Type:',\n            input: (\n              <Select\n                options={oscillatorTypeOptions}\n                selected={data.oscillator.type}\n                onSelect={(type) => onChange({ ...data, oscillator: { ...data.oscillator, type } })}\n              />\n            ),\n          },\n          {\n            label: 'Frequency:',\n            value: `${data.oscillator.frequency}Hz`,\n            input: (\n              <Range\n                value={data.oscillator.frequency}\n                min={10}\n                max={10000}\n                step={10}\n                isExponential\n                onChange={(frequency) => onChange({ ...data, oscillator: { ...data.oscillator, frequency } })}\n              />\n            ),\n          },\n        ]}\n      />\n      {showDynamicsCompressor && <SectionHeader>Dynamics Compressor</SectionHeader>}\n      {showDynamicsCompressor && (\n        <Form\n          fields={[\n            {\n              label: 'Threshold:',\n              value: `${data.dynamicsCompressor.threshold}dB`,\n              input: (\n                <Range\n                  value={data.dynamicsCompressor.threshold}\n                  min={-100}\n                  max={0}\n                  step={1}\n                  onChange={(threshold) =>\n                    onChange({ ...data, dynamicsCompressor: { ...data.dynamicsCompressor, threshold } })\n                  }\n                />\n              ),\n            },\n            {\n              label: 'Knee:',\n              value: `${data.dynamicsCompressor.knee}dB`,\n              input: (\n                <Range\n                  value={data.dynamicsCompressor.knee}\n                  min={0}\n                  max={40}\n                  step={1}\n                  onChange={(knee) => onChange({ ...data, dynamicsCompressor: { ...data.dynamicsCompressor, knee } })}\n                />\n              ),\n            },\n            {\n              label: 'Ratio:',\n              value: String(data.dynamicsCompressor.ratio),\n              input: (\n                <Range\n                  value={data.dynamicsCompressor.ratio}\n                  min={1}\n                  max={20}\n                  step={0.1}\n                  isExponential\n                  onChange={(ratio) => onChange({ ...data, dynamicsCompressor: { ...data.dynamicsCompressor, ratio } })}\n                />\n              ),\n            },\n            {\n              label: 'Attack:',\n              value: `${data.dynamicsCompressor.attack}s`,\n              input: (\n                <Range\n                  value={data.dynamicsCompressor.attack + 0.001}\n                  min={0.001}\n                  max={1.001}\n                  step={0.001}\n                  isExponential\n                  onChange={(attack) =>\n                    onChange({\n                      ...data,\n                      dynamicsCompressor: { ...data.dynamicsCompressor, attack: removeFloatArtifact(attack - 0.001) },\n                    })\n                  }\n                />\n              ),\n            },\n            {\n              label: 'Release:',\n              value: `${data.dynamicsCompressor.release}s`,\n              input: (\n                <Range\n                  value={data.dynamicsCompressor.release + 0.001}\n                  min={0.001}\n                  max={1.001}\n                  step={0.001}\n                  isExponential\n                  onChange={(release) =>\n                    onChange({\n                      ...data,\n                      dynamicsCompressor: {\n                        ...data.dynamicsCompressor,\n                        release: removeFloatArtifact(release - 0.001),\n                      },\n                    })\n                  }\n                />\n              ),\n            },\n          ]}\n        />\n      )}\n    </>\n  )\n})\n\nconst oscillatorTypeOptions = [\n  {\n    value: 'sawtooth',\n    label: 'Sawtooth',\n  },\n  {\n    value: 'sine',\n    label: 'Sine',\n  },\n  {\n    value: 'square',\n    label: 'Square',\n  },\n  {\n    value: 'triangle',\n    label: 'Triangle',\n  },\n] as const\n","import * as React from 'react'\nimport DifferenceDemo from './difference_demo'\nimport SignalOptionsDemo from './signal_options_demo'\n\nconst enum Demo {\n  OscillatorOptions,\n  DynamicsCompressorOptions,\n  Difference,\n}\n\n/**\n * Selects the demo manually or automatically based on the page URL\n */\nexport default function DemoSelector(): React.ReactElement {\n  const [selected, select] = React.useState(() => {\n    const demoMatch = /[&?]demo=(.*?)($|&)/i.exec(location.search)\n    switch (demoMatch?.[1]) {\n      case 'oscillator-options':\n        return Demo.OscillatorOptions\n      case 'dynamics-compressor-options':\n        return Demo.DynamicsCompressorOptions\n      case 'difference':\n        return Demo.Difference\n      default:\n        return undefined\n    }\n  })\n\n  switch (selected) {\n    case Demo.OscillatorOptions:\n      return <SignalOptionsDemo />\n    case Demo.DynamicsCompressorOptions:\n      return <SignalOptionsDemo useDynamicsCompressor />\n    case Demo.Difference:\n      return <DifferenceDemo />\n  }\n\n  return (\n    <>\n      Select a demo:\n      <br />\n      <button onClick={() => select(Demo.OscillatorOptions)}>Oscillator Options</button>\n      <br />\n      <button onClick={() => select(Demo.DynamicsCompressorOptions)}>Dynamics Compressor Options</button>\n      <br />\n      <button onClick={() => select(Demo.Difference)}>Signal Difference</button>\n    </>\n  )\n}\n","import * as React from 'react'\nimport * as ReactDOM from 'react-dom'\nimport DemoSelector from './view/demo_selector'\nimport './view/global.css'\nimport './view/loading_screen/loading_screen.css' // Required for the HTML code\n\nfunction start() {\n  // todo: Add error boundary\n  ReactDOM.render(React.createElement(DemoSelector), document.querySelector('#app'))\n}\n\n// Wait for the styles to load\nif (document.readyState === 'complete') {\n  start()\n} else {\n  addEventListener('load', start)\n}\n"],"sourceRoot":""}